"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[248],{3248:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});n(6699),n(2023),n(2772),n(4916),n(4723),n(7601);var a=n(6252),r=n(3577),l=n(9963),o=n(2262),s=n(2119),u=n(9669),i=n.n(u),d=n(5918),c=n(5317),m=n(8637),p=n(229);const w={props:{bg:{type:String,required:!0,validator:function(e){return["login","error"].includes(e)}}},setup:function(e){var t=e,n=(0,m.oR)(),l=(0,a.Fl)((function(){return n.state.darkMode})),s=(0,a.Fl)((function(){var e,n={login:"bg-gradient-to-tr from-purple-400 via-pink-500 to-red-500",loginDark:"bg-gradient-to-tr from-purple-900 via-pink-900 to-red-900",error:"bg-gradient-to-tr from-pink-400 via-red-500 to-yellow-500",errorDark:"bg-gradient-to-tr from-pink-900 via-red-900 to-yellow-900",leadertask:'bg-orange-100 bg-no-repeat bg-left-bottom md:bg-[url("@/assets/images/pic.png")]'},a=l.value?"".concat(t.bg,"Dark"):t.bg;return null!==(e=n[a])&&void 0!==e?e:""}));return function(e,t){return(0,a.wg)(),(0,a.j4)(p.Z,{class:(0,r.C_)([(0,o.SU)(s),"flex flex-col"])},{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default",{cardClass:"w-8/12 md:w-5/12 lg:w-4/12 xl:w-3/12 shadow bg-white dark:bg-white",cardRounded:"rounded-3xl"})]})),_:3},8,["class"])}}},f=w,g=f;var h=n(887),v=(n(9653),{class:"mb-3 last:mb-0"}),b={key:0,class:"block font-bold mb-2"},k={key:1,class:"text-xs text-gray-400 dark:text-gray-400 mt-1"},S={key:2,class:"flex justify-between mt-1"};const U={props:{label:{type:String,default:null},help:{type:String,default:null},maxCount:{type:Number,default:0},actualCount:{type:Number,default:0}},setup:function(e){var t=(0,a.Rr)(),n=(0,a.Fl)((function(){var e=[],n=t["default"]().length;return n>1&&e.push("grid grid-cols-1 gap-3"),2===n&&e.push("md:grid-cols-2"),e}));return function(t,l){return(0,a.wg)(),(0,a.iD)("div",v,[e.label?((0,a.wg)(),(0,a.iD)("label",b,(0,r.zw)(e.label),1)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,r.C_)((0,o.SU)(n))},[(0,a.WI)(t.$slots,"default")],2),e.help?((0,a.wg)(),(0,a.iD)("div",k,(0,r.zw)(e.help),1)):(0,a.kq)("",!0),e.maxCount?((0,a.wg)(),(0,a.iD)("div",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.maxCount,(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,r.C_)(["border w-full mx-0.5 border-gray-300 rounded-full",{"border-lime-500":e.actualCount+1>t}])},null,2)})),128))])):(0,a.kq)("",!0)])}}},x=U,y=x;var _=n(5157),C=n(8864),V=n(969),I=n(4291),D=(0,a._)("img",{src:"https://www.leadertask.ru/templates/default/img/logo.svg",class:"mb-10"},null,-1),W={class:"pb-4 pt-5 text-center text-2xl font-bold dark:text-white"},B={key:0},q={key:0,class:"text-red-500 text-xs pb-3"},Z=["href"],M={key:0};const O={setup:function(e){var t=(0,a.Fl)((function(){return d.Z.state.localization.localization})),n=function(){return navigator.language.includes("ru")?"ru":"en"},u=(0,o.qj)({email:"",password:"",username:"",showError:!1,errorMessage:"",isEmailValid:!1,emailMdi:c.VAU,emailIconClass:"",emailControlDisabled:!1,startScreenText:t.value.EnterLeaderTask,showCheckButton:!0,showBackButton:!1}),m=(0,o.qj)({showRegisterInputsValue:!1,showLoginInputsValue:!1}),p=(0,s.tv)(),w=function(){m.showLoginInputsValue?k():m.showRegisterInputsValue&&u.password.length>7&&u.email.length>2&&S()},f=function(){var e="web";return-1!==navigator.appVersion.indexOf("Mac")?e="mac":-1!==navigator.appVersion.indexOf("Win")?e="windows":-1!==navigator.appVersion.indexOf("Android")?e="android":-1!==navigator.appVersion.indexOf("iPhone")&&(e="ios"),e},v=function(){return navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)},b=function(){return v()?"mobile":"desktop"},k=function(){var e="https://web.leadertask.com/api/v1/users/auth?login="+u.email+"&password="+u.password+"&system="+f()+"&type_device="+b();d.Z.dispatch(I.ZH,e).then((function(){p.push("/")}))["catch"]((function(){u.showError=!0,u.errorMessage=t.value.InvalidNameOrPassword}))},S=function(){if(u.password&&u.username){var e={email:u.email,password:u.password,name:u.username,system:"web",language:"russian",type_device:"mobile"};d.Z.dispatch(I.rN,e).then((function(){p.push("/")}))["catch"]((function(){u.showError=!0,u.errorMessage="Unknown error"}))}},U=function(){x(),E(),u.emailControlDisabled=!1,u.email="",u.password="",u.username="",u.emailMdi=c.VAU,u.emailIconClass="",u.showCheckButton=!0,u.showBackButton=!1},x=function(){m.showLoginInputsValue=!1},O=function(){m.showLoginInputsValue=!0,E()},E=function(){m.showRegisterInputsValue=!1},R=function(){m.showRegisterInputsValue=!0,x()},j=function(){return!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(.\w{2,3})+$/.test(u.email)},z=function(){if(u.email&&j()){var e="https://web.leadertask.com/api/v1/users/exists?email="+u.email;i().get(e).then((function(){O(),u.emailMdi=c.YKm,u.startScreenText=t.value.hithere,u.emailIconClass="text-lime-500",u.emailControlDisabled=!0,u.showCheckButton=!1,u.showBackButton=!0}))["catch"]((function(){R(),u.emailMdi=c.YKm,u.startScreenText=t.value.create_account,u.emailIconClass="text-lime-500",u.emailControlDisabled=!0,u.showCheckButton=!1,u.showBackButton=!0}))}};return function(e,s){return(0,a.wg)(),(0,a.j4)(g,{bg:"leadertask"},{default:(0,a.w5)((function(e){var i=e.cardClass,d=e.cardRounded;return[D,(0,a.Wm)(h.Z,{class:(0,r.C_)(i),rounded:d,form:"",onSubmit:(0,l.iM)(w,["prevent"])},{default:(0,a.w5)((function(){return[(0,o.SU)(u).showBackButton?((0,a.wg)(),(0,a.j4)(_.Z,{key:0,path:(0,o.SU)(c.gAv),class:"cursor-pointer",size:"24",onClick:U},null,8,["path"])):(0,a.kq)("",!0),(0,a._)("p",W,(0,r.zw)((0,o.SU)(t).EnterLeaderTask),1),(0,a.Wm)(y,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(C.Z,{modelValue:(0,o.SU)(u).email,"onUpdate:modelValue":s[0]||(s[0]=function(e){return(0,o.SU)(u).email=e}),icon:(0,o.SU)(u).emailMdi,name:"email","icon-class":(0,o.SU)(u).emailIconClass,placeholder:(0,o.SU)(t).login_lt,autocomplete:"email",type:"email",required:"",disabled:(0,o.SU)(u).emailControlDisabled,onBlur:z,onKeyup:(0,l.D2)(z,["enter"])},null,8,["modelValue","icon","icon-class","placeholder","disabled","onKeyup"])]})),_:1}),(0,o.SU)(u).showCheckButton?((0,a.wg)(),(0,a.j4)(V.Z,{key:1,class:"w-full rounded-lg text-sm",color:"login",icon:(0,o.SU)(c.aIO),label:(0,o.SU)(t).EnterSystem,onClick:z},null,8,["icon","label"])):(0,a.kq)("",!0),(0,a.Wm)(l.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,o.SU)(m).showLoginInputsValue?((0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(y,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(C.Z,{modelValue:(0,o.SU)(u).password,"onUpdate:modelValue":s[1]||(s[1]=function(e){return(0,o.SU)(u).password=e}),icon:(0,o.SU)(c.qS7),type:"password",name:"password",autocomplete:"current-password",placeholder:(0,o.SU)(t).Password,valid:(0,o.SU)(u).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1}),(0,o.SU)(u).showError?((0,a.wg)(),(0,a.iD)("p",q,(0,r.zw)((0,o.SU)(u).errorMessage),1)):(0,a.kq)("",!0),(0,a.Wm)(V.Z,{type:"submit",class:"w-full rounded-lg text-sm",color:"login",icon:(0,o.SU)(c.aIO),label:(0,o.SU)(t).EnterSystem},null,8,["icon","label"]),(0,a._)("a",{href:"ru"==n()?"https://www.leadertask.ru/user?t=passrecovery":"https://www.leadertask.com/user?t=passrecovery",class:"text-xs mt-5 text-blue-500 underline decoration-1",target:"_blank"},(0,r.zw)((0,o.SU)(t).forgot_pass),9,Z)])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(l.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,o.SU)(m).showRegisterInputsValue?((0,a.wg)(),(0,a.iD)("div",M,[(0,a.Wm)(y,{help:(0,o.SU)(t).PasswordMin,"max-count":8,"actual-count":(0,o.SU)(u).password.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(C.Z,{modelValue:(0,o.SU)(u).password,"onUpdate:modelValue":s[2]||(s[2]=function(e){return(0,o.SU)(u).password=e}),icon:(0,o.SU)(c.qS7),type:"password",name:"password",placeholder:(0,o.SU)(t).Password,autocomplete:"current-password",valid:(0,o.SU)(u).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(y,{help:(0,o.SU)(t).EnterYourName,"max-count":3,"actual-count":(0,o.SU)(u).username.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(C.Z,{modelValue:(0,o.SU)(u).username,"onUpdate:modelValue":s[3]||(s[3]=function(e){return(0,o.SU)(u).username=e}),type:"text",icon:(0,o.SU)(c.jiR),name:"username",autocomplete:"username",placeholder:(0,o.SU)(t).name_emp,valid:(0,o.SU)(u).username.length>2},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(V.Z,{type:"submit",color:"login",class:"w-full rounded-lg text-sm",icon:(0,o.SU)(c.aIO),label:(0,o.SU)(t).create_account},null,8,["icon","label"])])):(0,a.kq)("",!0)]})),_:1})]})),_:2},1032,["class","rounded","onSubmit"])]})),_:1})}}},E=O,R=E},2772:(e,t,n)=>{var a=n(2109),r=n(1702),l=n(1318).indexOf,o=n(9341),s=r([].indexOf),u=!!s&&1/s([1],1,-0)<0,i=o("indexOf");a({target:"Array",proto:!0,forced:u||!i},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:l(this,e,t)}})},4723:(e,t,n)=>{var a=n(6916),r=n(7007),l=n(9670),o=n(7466),s=n(1340),u=n(4488),i=n(8173),d=n(1530),c=n(7651);r("match",(function(e,t,n){return[function(t){var n=u(this),r=void 0==t?void 0:i(t,e);return r?a(r,t,n):new RegExp(t)[e](s(n))},function(e){var a=l(this),r=s(e),u=n(t,a,r);if(u.done)return u.value;if(!a.global)return c(a,r);var i=a.unicode;a.lastIndex=0;var m,p=[],w=0;while(null!==(m=c(a,r))){var f=s(m[0]);p[w]=f,""===f&&(a.lastIndex=d(r,o(a.lastIndex),i)),w++}return 0===w?null:p}]}))}}]);
//# sourceMappingURL=248.a8a01502.js.map