"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[787],{6787:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});n(2772),n(4916),n(4723),n(7601);var a=n(6252),l=n(4035),o=n(9963),r=n(2262),s=n(2119),i=n(9669),u=n.n(i),d=n(2503),c=n(5317),m=(n(6699),n(8637)),p=n(229);const w={props:{bg:{type:String,required:!0,validator:function(e){return["login","error"].includes(e)}}},setup:function(e){var t=e,n=(0,m.oR)(),o=(0,r.Fl)((function(){return n.state.darkMode})),s=(0,r.Fl)((function(){var e,n={login:"bg-gradient-to-tr from-purple-400 via-pink-500 to-red-500",loginDark:"bg-gradient-to-tr from-purple-900 via-pink-900 to-red-900",error:"bg-gradient-to-tr from-pink-400 via-red-500 to-yellow-500",errorDark:"bg-gradient-to-tr from-pink-900 via-red-900 to-yellow-900",leadertask:'bg-orange-100 bg-no-repeat bg-left-bottom md:bg-[url("@/assets/images/pic.png")]'},a=o.value?"".concat(t.bg,"Dark"):t.bg;return null!==(e=n[a])&&void 0!==e?e:""}));return function(e,t){return(0,a.wg)(),(0,a.j4)(p.Z,{class:(0,l.C_)([(0,r.SU)(s),"flex flex-col"])},{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default",{cardClass:"w-8/12 md:w-5/12 lg:w-4/12 xl:w-3/12 shadow bg-white dark:bg-white",cardRounded:"rounded-3xl"})]})),_:3},8,["class"])}}},f=w,g=f;var h=n(887),v=(n(9653),{class:"mb-3 last:mb-0"}),b={key:0,class:"block font-bold mb-2"},S={key:1,class:"text-xs text-gray-400 dark:text-gray-400 mt-1"},k={key:2,class:"flex justify-between mt-1"};const U={props:{label:{type:String,default:null},help:{type:String,default:null},maxCount:{type:Number,default:0},actualCount:{type:Number,default:0}},setup:function(e){var t=(0,a.Rr)(),n=(0,r.Fl)((function(){var e=[],n=t["default"]().length;return n>1&&e.push("grid grid-cols-1 gap-3"),2===n&&e.push("md:grid-cols-2"),e}));return function(t,o){return(0,a.wg)(),(0,a.iD)("div",v,[e.label?((0,a.wg)(),(0,a.iD)("label",b,(0,l.zw)(e.label),1)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,l.C_)((0,r.SU)(n))},[(0,a.WI)(t.$slots,"default")],2),e.help?((0,a.wg)(),(0,a.iD)("div",S,(0,l.zw)(e.help),1)):(0,a.kq)("",!0),e.maxCount?((0,a.wg)(),(0,a.iD)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.maxCount,(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,l.C_)(["border w-full mx-0.5 border-gray-300 rounded-full",{"border-lime-500":e.actualCount+1>t}])},null,2)})),128))])):(0,a.kq)("",!0)])}}},x=U,y=x;var C=n(5157),_=n(8864),V=n(969),I=n(4291),D=(0,a._)("img",{src:"https://www.leadertask.ru/templates/default/img/logo.svg",class:"mb-10"},null,-1),W={class:"pb-4 pt-5 text-center text-2xl font-bold dark:text-white"},B={key:0},q={key:0,class:"text-red-500 text-xs pb-3"},Z={href:"",class:"text-xs mt-5 text-blue-500 underline decoration-1"},M={key:0};const O={setup:function(e){var t=(0,r.Fl)((function(){return d.Z.state.localization.localization})),n=(0,r.qj)({email:"",password:"",username:"",showError:!1,errorMessage:"",isEmailValid:!1,emailMdi:c.VAU,emailIconClass:"",emailControlDisabled:!1,startScreenText:t.value.EnterLeaderTask,showCheckButton:!0,showBackButton:!1}),i=(0,r.qj)({showRegisterInputsValue:!1,showLoginInputsValue:!1}),m=(0,s.tv)(),p=function(){i.showLoginInputsValue?b():i.showRegisterInputsValue&&n.password.length>7&&n.email.length>2&&S()},w=function(){var e="web";return-1!==navigator.appVersion.indexOf("Mac")?e="mac":-1!==navigator.appVersion.indexOf("Win")?e="windows":-1!==navigator.appVersion.indexOf("Android")?e="android":-1!==navigator.appVersion.indexOf("iPhone")&&(e="ios"),e},f=function(){return navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)},v=function(){return f()?"mobile":"desktop"},b=function(){var e="https://web.leadertask.com/api/v1/users/auth?login="+n.email+"&password="+n.password+"&system="+w()+"&type_device="+v();d.Z.dispatch(I.ZH,e).then((function(){m.push("/")}))["catch"]((function(){n.showError=!0,n.errorMessage=t.value.InvalidNameOrPassword}))},S=function(){if(n.password&&n.username){var e={email:n.email,password:n.password,name:n.username,system:"web",language:"russian",type_device:"mobile"};d.Z.dispatch(I.rN,e).then((function(){m.push("/")}))["catch"]((function(){n.showError=!0,n.errorMessage="Unknown error"}))}},k=function(){U(),O(),n.emailControlDisabled=!1,n.email="",n.password="",n.username="",n.emailMdi=c.VAU,n.emailIconClass="",n.showCheckButton=!0,n.showBackButton=!1},U=function(){i.showLoginInputsValue=!1},x=function(){i.showLoginInputsValue=!0,O()},O=function(){i.showRegisterInputsValue=!1},E=function(){i.showRegisterInputsValue=!0,U()},R=function(){return!!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(.\w{2,3})+$/.test(n.email)},j=function(){if(n.email&&R()){var e="https://web.leadertask.com/api/v1/users/exists?email="+n.email;u().get(e).then((function(){x(),n.emailMdi=c.YKm,n.startScreenText=t.value.hithere,n.emailIconClass="text-lime-500",n.emailControlDisabled=!0,n.showCheckButton=!1,n.showBackButton=!0}))["catch"]((function(){E(),n.emailMdi=c.YKm,n.startScreenText=t.value.create_account,n.emailIconClass="text-lime-500",n.emailControlDisabled=!0,n.showCheckButton=!1,n.showBackButton=!0}))}};return function(e,s){return(0,a.wg)(),(0,a.j4)(g,{bg:"leadertask"},{default:(0,a.w5)((function(e){var u=e.cardClass,d=e.cardRounded;return[D,(0,a.Wm)(h.Z,{class:(0,l.C_)(u),rounded:d,form:"",onSubmit:(0,o.iM)(p,["prevent"])},{default:(0,a.w5)((function(){return[(0,r.SU)(n).showBackButton?((0,a.wg)(),(0,a.j4)(C.Z,{key:0,path:(0,r.SU)(c.gAv),class:"cursor-pointer",size:"24",onClick:k},null,8,["path"])):(0,a.kq)("",!0),(0,a._)("p",W,(0,l.zw)((0,r.SU)(t).EnterLeaderTask),1),(0,a.Wm)(y,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(_.Z,{modelValue:(0,r.SU)(n).email,"onUpdate:modelValue":s[0]||(s[0]=function(e){return(0,r.SU)(n).email=e}),icon:(0,r.SU)(n).emailMdi,name:"email","icon-class":(0,r.SU)(n).emailIconClass,placeholder:(0,r.SU)(t).login_lt,autocomplete:"email",type:"email",required:"",disabled:(0,r.SU)(n).emailControlDisabled,onBlur:j,onKeyup:(0,o.D2)(j,["enter"])},null,8,["modelValue","icon","icon-class","placeholder","disabled","onKeyup"])]})),_:1}),(0,r.SU)(n).showCheckButton?((0,a.wg)(),(0,a.j4)(V.Z,{key:1,class:"w-full rounded-lg text-sm",color:"login",icon:(0,r.SU)(c.aIO),label:(0,r.SU)(t).EnterSystem,onClick:j},null,8,["icon","label"])):(0,a.kq)("",!0),(0,a.Wm)(o.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,r.SU)(i).showLoginInputsValue?((0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(y,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(_.Z,{modelValue:(0,r.SU)(n).password,"onUpdate:modelValue":s[1]||(s[1]=function(e){return(0,r.SU)(n).password=e}),icon:(0,r.SU)(c.qS7),type:"password",name:"password",autocomplete:"current-password",placeholder:(0,r.SU)(t).Password,valid:(0,r.SU)(n).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1}),(0,r.SU)(n).showError?((0,a.wg)(),(0,a.iD)("p",q,(0,l.zw)((0,r.SU)(n).errorMessage),1)):(0,a.kq)("",!0),(0,a.Wm)(V.Z,{type:"submit",class:"w-full rounded-lg text-sm",color:"login",icon:(0,r.SU)(c.aIO),label:(0,r.SU)(t).EnterSystem},null,8,["icon","label"]),(0,a._)("a",Z,(0,l.zw)((0,r.SU)(t).forgot_pass),1)])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(o.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,r.SU)(i).showRegisterInputsValue?((0,a.wg)(),(0,a.iD)("div",M,[(0,a.Wm)(y,{help:(0,r.SU)(t).PasswordMin,"max-count":8,"actual-count":(0,r.SU)(n).password.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(_.Z,{modelValue:(0,r.SU)(n).password,"onUpdate:modelValue":s[2]||(s[2]=function(e){return(0,r.SU)(n).password=e}),icon:(0,r.SU)(c.qS7),type:"password",name:"password",placeholder:(0,r.SU)(t).Password,autocomplete:"current-password",valid:(0,r.SU)(n).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(y,{help:(0,r.SU)(t).EnterYourName,"max-count":3,"actual-count":(0,r.SU)(n).username.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(_.Z,{modelValue:(0,r.SU)(n).username,"onUpdate:modelValue":s[3]||(s[3]=function(e){return(0,r.SU)(n).username=e}),type:"text",icon:(0,r.SU)(c.jiR),name:"username",autocomplete:"username",placeholder:(0,r.SU)(t).name_emp,valid:(0,r.SU)(n).username.length>2},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(V.Z,{type:"submit",color:"login",class:"w-full rounded-lg text-sm",icon:(0,r.SU)(c.aIO),label:(0,r.SU)(t).create_account},null,8,["icon","label"])])):(0,a.kq)("",!0)]})),_:1})]})),_:2},1032,["class","rounded","onSubmit"])]})),_:1})}}},E=O,R=E},2772:(e,t,n)=>{var a=n(2109),l=n(1702),o=n(1318).indexOf,r=n(9341),s=l([].indexOf),i=!!s&&1/s([1],1,-0)<0,u=r("indexOf");a({target:"Array",proto:!0,forced:i||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return i?s(this,e,t)||0:o(this,e,t)}})},4723:(e,t,n)=>{var a=n(6916),l=n(7007),o=n(9670),r=n(7466),s=n(1340),i=n(4488),u=n(8173),d=n(1530),c=n(7651);l("match",(function(e,t,n){return[function(t){var n=i(this),l=void 0==t?void 0:u(t,e);return l?a(l,t,n):new RegExp(t)[e](s(n))},function(e){var a=o(this),l=s(e),i=n(t,a,l);if(i.done)return i.value;if(!a.global)return c(a,l);var u=a.unicode;a.lastIndex=0;var m,p=[],w=0;while(null!==(m=c(a,l))){var f=s(m[0]);p[w]=f,""===f&&(a.lastIndex=d(l,r(a.lastIndex),u)),w++}return 0===w?null:p}]}))}}]);
//# sourceMappingURL=787.37ea1372.js.map