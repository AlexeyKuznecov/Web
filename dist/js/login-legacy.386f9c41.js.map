{"version":3,"file":"js/login-legacy.386f9c41.js","mappings":"6aAcA,IAAMA,GAAQ,UAERC,GAAe,SAAS,WAC5B,IAAMC,EAAO,GACPC,EAAcH,EAAMI,UAAUC,OAUpC,OARIF,EAAc,GAChBD,EAAKI,KAAK,0BAGQ,IAAhBH,GACFD,EAAKI,KAAK,kBAGLJ,K,iSCzBT,MAAMK,EAAc,EAEpB,S,+OCQMC,GAAQ,UAERC,GAAW,SAAS,kBAAMD,EAAME,MAAMD,YAEtCE,GAAiB,SAAS,WAAM,MAC9BC,EAAM,CACVC,MAAO,4DACPC,UAAW,4DACXC,MAAO,4DACPC,UAAW,6DAGPC,EAAQR,EAASS,MAAT,UAAoBC,EAAMC,GAA1B,QAAqCD,EAAMC,GAEzD,iBAAOR,EAAIK,UAAX,QAAqB,M,oQCxBvB,MAAMV,EAAc,EAEpB,S,sRCWA,IAAMc,GAAO,QAAS,CACpBC,MAAO,GACPC,SAAU,GACVC,SAAU,KAGNC,GAAa,QAAS,CAC1BC,yBAAyB,EACzBC,sBAAsB,IAGlBC,GAAS,UAETC,EAAS,WACTJ,EAAWE,qBACbd,IACSY,EAAWC,yBACpBI,KAIEjB,EAAQ,WACZ,IAAMkB,EAAO,CAAET,MAAOD,EAAKC,MAAOC,SAAUF,EAAKE,UACjDf,EAAA,WAAe,KAAcuB,GAC1BC,MAAK,WACJJ,EAAOtB,KAAK,QAEb2B,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAIG,aAG9BP,EAAW,WACf,GAAKT,EAAKE,UAAaF,EAAKG,SAA5B,CACA,IAAMO,EAAO,CACXT,MAAOD,EAAKC,MACZC,SAAUF,EAAKE,SACfe,KAAMjB,EAAKG,SACXe,OAAQ,MACRC,SAAU,WAEZhC,EAAA,WAAe,KAAeuB,GAC3BC,MAAK,WACJJ,EAAOtB,KAAK,QAEb2B,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAIG,cAG9BI,EAAkB,WACtBhB,EAAWE,sBAAuB,GAG9Be,EAAkB,WACtBjB,EAAWE,sBAAuB,EAClCgB,KAGIA,EAAqB,WACzBlB,EAAWC,yBAA0B,GAGjCkB,EAAqB,WACzBnB,EAAWC,yBAA0B,EACrCe,KAGII,EAAsB,WAC1B,GAAIxB,EAAKC,MAAO,CACd,IAAMwB,EAAM,wDAA0DzB,EAAKC,MAC3E,QAAUwB,GACPd,MAAK,WACJU,OAEDT,OAAM,WACLW,S,glECnFR,MAAMrC,EAAc,EAEpB,S,qBCNA,IAAIwC,EAAI,EAAQ,MACZC,EAAY,iBACZC,EAAmB,EAAQ,MAI/BF,EAAE,CAAEG,OAAQ,QAASC,OAAO,GAAQ,CAClCC,SAAU,SAAkBC,GAC1B,OAAOL,EAAUM,KAAMD,EAAIE,UAAUlD,OAAS,EAAIkD,UAAU,QAAKC,MAKrEP,EAAiB","sources":["webpack://admin-one-vue-tailwind/./src/components/Field.vue","webpack://admin-one-vue-tailwind/./src/components/Field.vue?673a","webpack://admin-one-vue-tailwind/./src/components/FullScreenSection.vue","webpack://admin-one-vue-tailwind/./src/components/FullScreenSection.vue?295a","webpack://admin-one-vue-tailwind/./src/views/Login.vue","webpack://admin-one-vue-tailwind/./src/views/Login.vue?93c0","webpack://admin-one-vue-tailwind/./node_modules/core-js/modules/es.array.includes.js"],"sourcesContent":["<script setup>\nimport { computed, useSlots } from 'vue'\n\ndefineProps({\n  label: {\n    type: String,\n    default: null\n  },\n  help: {\n    type: String,\n    default: null\n  }\n})\n\nconst slots = useSlots()\n\nconst wrapperClass = computed(() => {\n  const base = []\n  const slotsLength = slots.default().length\n\n  if (slotsLength > 1) {\n    base.push('grid grid-cols-1 gap-3')\n  }\n\n  if (slotsLength === 2) {\n    base.push('md:grid-cols-2')\n  }\n\n  return base\n})\n</script>\n\n<template>\n  <div class=\"mb-6 last:mb-0\">\n    <label\n      v-if=\"label\"\n      class=\"block font-bold mb-2\"\n    >{{ label }}</label>\n    <div :class=\"wrapperClass\">\n      <slot />\n    </div>\n    <div\n      v-if=\"help\"\n      class=\"text-xs text-gray-500 dark:text-gray-400 mt-1\"\n    >\n      {{ help }}\n    </div>\n  </div>\n</template>\n","import script from \"./Field.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Field.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport MainSection from '@/components/MainSection.vue'\n\nconst props = defineProps({\n  bg: {\n    type: String,\n    required: true,\n    validator: value => ['login', 'error'].includes(value)\n  }\n})\n\nconst store = useStore()\n\nconst darkMode = computed(() => store.state.darkMode)\n\nconst componentClass = computed(() => {\n  const bgs = {\n    login: 'bg-gradient-to-tr from-purple-400 via-pink-500 to-red-500',\n    loginDark: 'bg-gradient-to-tr from-purple-900 via-pink-900 to-red-900',\n    error: 'bg-gradient-to-tr from-pink-400 via-red-500 to-yellow-500',\n    errorDark: 'bg-gradient-to-tr from-pink-900 via-red-900 to-yellow-900'\n  }\n\n  const bgKey = darkMode.value ? `${props.bg}Dark` : props.bg\n\n  return bgs[bgKey] ?? ''\n})\n</script>\n\n<template>\n  <main-section :class=\"componentClass\">\n    <slot\n      card-class=\"w-11/12 md:w-7/12 lg:w-6/12 xl:w-4/12 shadow-2xl\"\n      card-rounded=\"rounded-lg\"\n    />\n  </main-section>\n</template>\n","import script from \"./FullScreenSection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FullScreenSection.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport store from '@/store'\nimport { mdiAccount, mdiAsterisk } from '@mdi/js'\nimport FullScreenSection from '@/components/FullScreenSection.vue'\nimport CardComponent from '@/components/CardComponent.vue'\nimport Field from '@/components/Field.vue'\nimport Control from '@/components/Control.vue'\nimport Divider from '@/components/Divider.vue'\nimport JbButton from '@/components/JbButton.vue'\nimport JbButtons from '@/components/JbButtons.vue'\n\nimport { AUTH_REQUEST, AUTH_REGISTER } from '@/store/actions/auth'\n\nconst form = reactive({\n  email: '',\n  password: '',\n  username: ''\n})\n\nconst showValues = reactive({\n  showRegisterInputsValue: false,\n  showLoginInputsValue: false\n})\n\nconst router = useRouter()\n\nconst submit = () => {\n  if (showValues.showLoginInputsValue) {\n    login()\n  } else if (showValues.showRegisterInputsValue) {\n    register()\n  }\n}\n\nconst login = () => {\n  const data = { email: form.email, password: form.password }\n  store.dispatch(AUTH_REQUEST, data)\n    .then(() => {\n      router.push('/')\n    })\n    .catch((err) => console.log(err.message))\n}\n\nconst register = () => {\n  if (!form.password || !form.username) { return }\n  const data = {\n    email: form.email,\n    password: form.password,\n    name: form.username,\n    system: 'web',\n    language: 'russian'\n  }\n  store.dispatch(AUTH_REGISTER, data)\n    .then(() => {\n      router.push('/')\n    })\n    .catch((err) => console.log(err.message))\n}\n\nconst hideLoginInputs = () => {\n  showValues.showLoginInputsValue = false\n}\n\nconst showLoginInputs = () => {\n  showValues.showLoginInputsValue = true\n  hideRegisterInputs()\n}\n\nconst hideRegisterInputs = () => {\n  showValues.showRegisterInputsValue = false\n}\n\nconst showRegisterInputs = () => {\n  showValues.showRegisterInputsValue = true\n  hideLoginInputs()\n}\n\nconst checkEmailExistense = () => {\n  if (form.email) {\n    const uri = 'https://web.leadertask.com/api/v1/users/exists?email=' + form.email\n    axios.get(uri)\n      .then(() => {\n        showLoginInputs()\n      })\n      .catch(() => {\n        showRegisterInputs()\n      })\n  }\n}\n\n</script>\n<template>\n  <full-screen-section\n    v-slot=\"{ cardClass, cardRounded }\"\n    bg=\"login\"\n  >\n    <card-component\n      :class=\"cardClass\"\n      :rounded=\"cardRounded\"\n      form\n      @submit.prevent=\"submit\"\n    >\n      <field\n        label=\"Email\"\n        help=\"Please enter your email\"\n      >\n        <control\n          v-model=\"form.email\"\n          @blur=\"checkEmailExistense\"\n          :icon=\"mdiAccount\"\n          name=\"email\"\n          autocomplete=\"email\"\n          required\n        />\n      </field>\n\n  <transition-group name=\"slide-fade\">\n    <div v-if=\"showValues.showLoginInputsValue\">\n      <field\n        label=\"Password\"\n        help=\"Please enter your password\"\n      >\n        <control\n          v-model=\"form.password\"\n          :icon=\"mdiAsterisk\"\n          type=\"password\"\n          name=\"password\"\n          autocomplete=\"current-password\"\n        />\n      </field>\n    </div>\n  </transition-group>\n\n  <transition-group name=\"slide-fade\">\n    <div v-if=\"showValues.showRegisterInputsValue\">\n      <field\n        label=\"Password\"\n        help=\"Please enter your password\"\n      >\n        <control\n          v-model=\"form.password\"\n          :icon=\"mdiAsterisk\"\n          type=\"password\"\n          name=\"password\"\n          autocomplete=\"current-password\"\n        />\n      </field>\n\n      <field\n        label=\"Username\"\n        help=\"Plase enter your username\"\n      >\n        <control\n          v-model=\"form.username\"\n          type=\"text\"\n          name=\"username\"\n          autocomplete=\"username\"\n        />\n      </field>\n    </div>\n  </transition-group>\n\n      <divider />\n\n      <jb-buttons>\n        <jb-button\n          type=\"submit\"\n          color=\"info\"\n          label=\"Submit\"\n        />\n      </jb-buttons>\n    </card-component>\n  </full-screen-section>\n</template>\n\n<style>\n\n.error-message {\n  color: #8D021F;\n  font-size: 14px;\n}\n\n.slide-fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n\n.slide-fade-leave-active {\n  transition: all 0.3s cubic-bezier(1, 0.5, 0.8, 1);\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  transform: translateX(75px);\n  opacity: 0;\n}\n</style>\n","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=0690b5b8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"names":["slots","wrapperClass","base","slotsLength","default","length","push","__exports__","store","darkMode","state","componentClass","bgs","login","loginDark","error","errorDark","bgKey","value","props","bg","form","email","password","username","showValues","showRegisterInputsValue","showLoginInputsValue","router","submit","register","data","then","catch","err","console","log","message","name","system","language","hideLoginInputs","showLoginInputs","hideRegisterInputs","showRegisterInputs","checkEmailExistense","uri","$","$includes","addToUnscopables","target","proto","includes","el","this","arguments","undefined"],"sourceRoot":""}