"use strict";(self["webpackChunkadmin_one_vue_tailwind"]=self["webpackChunkadmin_one_vue_tailwind"]||[]).push([[535],{4533:(e,t,n)=>{n.d(t,{Z:()=>m});n(9653);var a=n(6252),o=n(3577),l=n(2262),r={class:"mb-3 last:mb-0"},u={key:0,class:"block font-bold mb-2"},s={key:1,class:"text-xs text-gray-400 dark:text-gray-400 mt-1"},i={key:2,class:"flex justify-between mt-1"};const d={props:{label:{type:String,default:null},help:{type:String,default:null},maxCount:{type:Number,default:0},actualCount:{type:Number,default:0}},setup:function(e){var t=(0,a.Rr)(),n=(0,l.Fl)((function(){var e=[],n=t["default"]().length;return n>1&&e.push("grid grid-cols-1 gap-3"),2===n&&e.push("md:grid-cols-2"),e}));return function(t,d){return(0,a.wg)(),(0,a.iD)("div",r,[e.label?((0,a.wg)(),(0,a.iD)("label",u,(0,o.zw)(e.label),1)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,o.C_)((0,l.SU)(n))},[(0,a.WI)(t.$slots,"default")],2),e.help?((0,a.wg)(),(0,a.iD)("div",s,(0,o.zw)(e.help),1)):(0,a.kq)("",!0),e.maxCount?((0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.maxCount,(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,o.C_)(["border w-full mx-0.5 border-gray-300 rounded-full",{"border-lime-500":e.actualCount+1>t}])},null,2)})),128))])):(0,a.kq)("",!0)])}}},c=d,m=c},2089:(e,t,n)=>{n.d(t,{Z:()=>d});n(6699);var a=n(6252),o=n(3577),l=n(2262),r=n(8637),u=n(229);const s={props:{bg:{type:String,required:!0,validator:function(e){return["login","error"].includes(e)}}},setup:function(e){var t=e,n=(0,r.oR)(),s=(0,l.Fl)((function(){return n.state.darkMode})),i=(0,l.Fl)((function(){var e,n={login:"bg-gradient-to-tr from-purple-400 via-pink-500 to-red-500",loginDark:"bg-gradient-to-tr from-purple-900 via-pink-900 to-red-900",error:"bg-gradient-to-tr from-pink-400 via-red-500 to-yellow-500",errorDark:"bg-gradient-to-tr from-pink-900 via-red-900 to-yellow-900",leadertask:'bg-orange-100 bg-no-repeat bg-left-bottom md:bg-[url("@/assets/images/pic.png")]'},a=s.value?"".concat(t.bg,"Dark"):t.bg;return null!==(e=n[a])&&void 0!==e?e:""}));return function(e,t){return(0,a.wg)(),(0,a.j4)(u.Z,{class:(0,o.C_)([(0,l.SU)(i),"flex flex-col"])},{default:(0,a.w5)((function(){return[(0,a.WI)(e.$slots,"default",{cardClass:"w-8/12 md:w-5/12 lg:w-4/12 xl:w-3/12 shadow bg-white dark:bg-white",cardRounded:"rounded-3xl"})]})),_:3},8,["class"])}}},i=s,d=i},2640:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});n(2772),n(4916),n(4723);var a=n(6252),o=n(3577),l=n(9963),r=n(2262),u=n(2119),s=n(9669),i=n.n(s),d=n(2500),c=n(5317),m=n(2089),p=n(887),w=n(4533),f=n(5157),g=n(8864),h=n(6401),v=n(4291),b=(0,a._)("img",{src:"https://www.leadertask.ru/templates/default/img/logo.svg",class:"mb-10"},null,-1),k={class:"pb-4 pt-5 text-center text-2xl font-bold dark:text-black"},S={key:0},x={key:0,class:"text-red-500 text-xs pb-3"},U={href:"",class:"text-xs mt-5 text-blue-500 underline decoration-1"},y={key:0};const C={setup:function(e){var t=(0,r.Fl)((function(){return d.Z.state.localization.localization})),n=(0,r.qj)({email:"",password:"",username:"",showError:!1,errorMessage:"",emailMdi:c.VAU,emailIconClass:"",emailControlDisabled:!1,startScreenText:t.value.EnterLeaderTask,showCheckButton:!0,showBackButton:!1}),s=(0,r.qj)({showRegisterInputsValue:!1,showLoginInputsValue:!1}),C=(0,u.tv)(),_=function(){s.showLoginInputsValue?D():s.showRegisterInputsValue&&W()},V=function(){var e="web";return-1!==navigator.appVersion.indexOf("Mac")?e="mac":-1!==navigator.appVersion.indexOf("Win")?e="windows":-1!==navigator.appVersion.indexOf("Android")?e="android":-1!==navigator.appVersion.indexOf("iPhone")&&(e="ios"),e},I=function(){return navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)},Z=function(){return I()?"mobile":"desktop"},D=function(){var e="https://web.leadertask.com/api/v1/users/auth?login="+n.email+"&password="+n.password+"&system="+V()+"&type_device="+Z();d.Z.dispatch(v.ZH,e).then((function(){C.push("/")}))["catch"]((function(){n.showError=!0,n.errorMessage=t.value.InvalidNameOrPassword}))},W=function(){if(n.password&&n.username){var e={email:n.email,password:n.password,name:n.username,system:"web",language:"russian",type_device:"mobile"};d.Z.dispatch(v.rN,e).then((function(){C.push("/")}))["catch"]((function(){n.showError=!0,n.errorMessage="Unknown error"}))}},B=function(){q(),O(),n.emailControlDisabled=!1,n.email="",n.password="",n.username="",n.emailMdi=c.VAU,n.emailIconClass="",n.showCheckButton=!0,n.showBackButton=!1},q=function(){s.showLoginInputsValue=!1},M=function(){s.showLoginInputsValue=!0,O()},O=function(){s.showRegisterInputsValue=!1},R=function(){s.showRegisterInputsValue=!0,q()},j=function(){if(n.email){var e="https://web.leadertask.com/api/v1/users/exists?email="+n.email;i().get(e).then((function(){M(),n.emailMdi=c.YKm,n.startScreenText=t.value.hithere,n.emailIconClass="text-lime-500",n.emailControlDisabled=!0,n.showCheckButton=!1,n.showBackButton=!0}))["catch"]((function(){R(),n.emailMdi=c.YKm,n.startScreenText=t.value.create_account,n.emailIconClass="text-lime-500",n.emailControlDisabled=!0,n.showCheckButton=!1,n.showBackButton=!0}))}};return function(e,u){return(0,a.wg)(),(0,a.j4)(m.Z,{bg:"leadertask"},{default:(0,a.w5)((function(e){var i=e.cardClass,d=e.cardRounded;return[b,(0,a.Wm)(p.Z,{class:(0,o.C_)(i),rounded:d,form:"",onSubmit:(0,l.iM)(_,["prevent"])},{default:(0,a.w5)((function(){return[(0,r.SU)(n).showBackButton?((0,a.wg)(),(0,a.j4)(f.Z,{key:0,path:(0,r.SU)(c.gAv),class:"cursor-pointer",size:"24",onClick:B},null,8,["path"])):(0,a.kq)("",!0),(0,a._)("p",k,(0,o.zw)((0,r.SU)(n).startScreenText),1),(0,a.Wm)(w.Z,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(g.Z,{modelValue:(0,r.SU)(n).email,"onUpdate:modelValue":u[0]||(u[0]=function(e){return(0,r.SU)(n).email=e}),icon:(0,r.SU)(n).emailMdi,name:"email",iconClass:(0,r.SU)(n).emailIconClass,placeholder:(0,r.SU)(t).login_lt,autocomplete:"email",type:"email",required:"",disabled:(0,r.SU)(n).emailControlDisabled,onBlur:j,onKeyup:(0,l.D2)(j,["enter"])},null,8,["modelValue","icon","iconClass","placeholder","disabled","onKeyup"])]})),_:1}),(0,r.SU)(n).showCheckButton?((0,a.wg)(),(0,a.j4)(h.Z,{key:1,class:"w-full rounded-lg text-sm",color:"login",icon:(0,r.SU)(c.aIO),label:"Continue",onClick:j},null,8,["icon"])):(0,a.kq)("",!0),(0,a.Wm)(l.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,r.SU)(s).showLoginInputsValue?((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(w.Z,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(g.Z,{modelValue:(0,r.SU)(n).password,"onUpdate:modelValue":u[1]||(u[1]=function(e){return(0,r.SU)(n).password=e}),icon:(0,r.SU)(c.qS7),type:"password",name:"password",autocomplete:"current-password",placeholder:(0,r.SU)(t).Password,valid:(0,r.SU)(n).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1}),(0,r.SU)(n).showError?((0,a.wg)(),(0,a.iD)("p",x,(0,o.zw)((0,r.SU)(n).errorMessage),1)):(0,a.kq)("",!0),(0,a.Wm)(h.Z,{type:"submit",class:"w-full rounded-lg text-sm",color:"login",icon:(0,r.SU)(c.aIO),label:(0,r.SU)(t).EnterSystem},null,8,["icon","label"]),(0,a._)("a",U,(0,o.zw)((0,r.SU)(t).forgot_pass),1)])):(0,a.kq)("",!0)]})),_:1}),(0,a.Wm)(l.W3,{name:"slide-fade"},{default:(0,a.w5)((function(){return[(0,r.SU)(s).showRegisterInputsValue?((0,a.wg)(),(0,a.iD)("div",y,[(0,a.Wm)(w.Z,{help:(0,r.SU)(t).PasswordMin,"max-count":8,"actual-count":(0,r.SU)(n).password.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(g.Z,{modelValue:(0,r.SU)(n).password,"onUpdate:modelValue":u[2]||(u[2]=function(e){return(0,r.SU)(n).password=e}),icon:(0,r.SU)(c.qS7),type:"password",name:"password",placeholder:(0,r.SU)(t).Password,autocomplete:"current-password",valid:(0,r.SU)(n).password.length>7},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(w.Z,{help:(0,r.SU)(t).EnterYourName,"max-count":3,"actual-count":(0,r.SU)(n).username.length},{default:(0,a.w5)((function(){return[(0,a.Wm)(g.Z,{modelValue:(0,r.SU)(n).username,"onUpdate:modelValue":u[3]||(u[3]=function(e){return(0,r.SU)(n).username=e}),type:"text",icon:(0,r.SU)(c.jiR),name:"username",autocomplete:"username",placeholder:(0,r.SU)(t).name_emp,valid:(0,r.SU)(n).username.length>2},null,8,["modelValue","icon","placeholder","valid"])]})),_:1},8,["help","actual-count"]),(0,a.Wm)(h.Z,{type:"submit",color:"login",class:"w-full rounded-lg text-sm",icon:(0,r.SU)(c.aIO),label:(0,r.SU)(t).create_account},null,8,["icon","label"])])):(0,a.kq)("",!0)]})),_:1})]})),_:2},1032,["class","rounded","onSubmit"])]})),_:1})}}},_=C,V=_},9341:(e,t,n)=>{var a=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},2772:(e,t,n)=>{var a=n(2109),o=n(1702),l=n(1318).indexOf,r=n(9341),u=o([].indexOf),s=!!u&&1/u([1],1,-0)<0,i=r("indexOf");a({target:"Array",proto:!0,forced:s||!i},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return s?u(this,e,t)||0:l(this,e,t)}})},4723:(e,t,n)=>{var a=n(6916),o=n(7007),l=n(9670),r=n(7466),u=n(1340),s=n(4488),i=n(8173),d=n(1530),c=n(7651);o("match",(function(e,t,n){return[function(t){var n=s(this),o=void 0==t?void 0:i(t,e);return o?a(o,t,n):new RegExp(t)[e](u(n))},function(e){var a=l(this),o=u(e),s=n(t,a,o);if(s.done)return s.value;if(!a.global)return c(a,o);var i=a.unicode;a.lastIndex=0;var m,p=[],w=0;while(null!==(m=c(a,o))){var f=u(m[0]);p[w]=f,""===f&&(a.lastIndex=d(o,r(a.lastIndex),i)),w++}return 0===w?null:p}]}))}}]);
//# sourceMappingURL=login.07c8146c.js.map