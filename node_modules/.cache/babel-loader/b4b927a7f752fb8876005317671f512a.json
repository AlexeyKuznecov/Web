{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport { toDisplayString as _toDisplayString, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport { computed, ref, watch, onMounted } from 'vue';\nimport numeral from 'numeral';\nexport default {\n  props: {\n    prefix: {\n      type: String,\n      default: null\n    },\n    suffix: {\n      type: String,\n      default: null\n    },\n    value: {\n      type: Number,\n      default: 0\n    },\n    duration: {\n      type: Number,\n      default: 500\n    }\n  },\n  setup: function setup(__props) {\n    var props = __props;\n    var newValue = ref(0);\n    var newValueFormatted = computed(function () {\n      return newValue.value < 1000 ? newValue.value : numeral(newValue.value).format('0,0');\n    });\n    var value = computed(function () {\n      return props.value;\n    });\n\n    var grow = function grow(m) {\n      var v = Math.ceil(newValue.value + m);\n\n      if (v > value.value) {\n        newValue.value = value.value;\n        return false;\n      }\n\n      newValue.value = v;\n      setTimeout(function () {\n        grow(m);\n      }, 25);\n    };\n\n    var growInit = function growInit() {\n      grow(props.value / (props.duration / 25));\n    };\n\n    watch(value, function () {\n      growInit();\n    });\n    onMounted(function () {\n      growInit();\n    });\n    return function (_ctx, _cache) {\n      return _openBlock(), _createElementBlock(\"div\", null, _toDisplayString(__props.prefix) + _toDisplayString(_unref(newValueFormatted)) + _toDisplayString(__props.suffix), 1);\n    };\n  }\n};","map":{"version":3,"sources":["/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/components/GrowingNumber.vue"],"names":[],"mappings":";;AACA,SAAS,QAAT,EAAmB,GAAnB,EAAwB,KAAxB,EAA+B,SAA/B,QAAgD,KAAhD;AACA,OAAO,OAAP,MAAoB,SAApB;;;;;;;;;;;;;;;;;;;;;;AAqBA,QAAM,QAAQ,GAAG,GAAG,CAAC,CAAD,CAApB;AAEA,QAAM,iBAAiB,GAAG,QAAQ,CAChC;AAAA,aAAM,QAAQ,CAAC,KAAT,GAAiB,IAAjB,GAAwB,QAAQ,CAAC,KAAjC,GAAyC,OAAO,CAAC,QAAQ,CAAC,KAAV,CAAP,CAAwB,MAAxB,CAA+B,KAA/B,CAA/C;AAAA,KADgC,CAAlC;AAIA,QAAM,KAAK,GAAG,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAZ;AAAA,KAAD,CAAtB;;AAEA,QAAM,IAAI,GAAG,SAAP,IAAO,CAAA,CAAC,EAAI;AAChB,UAAM,CAAC,GAAG,IAAI,CAAC,IAAL,CAAU,QAAQ,CAAC,KAAT,GAAiB,CAA3B,CAAV;;AAEA,UAAI,CAAC,GAAG,KAAK,CAAC,KAAd,EAAqB;AACnB,QAAA,QAAQ,CAAC,KAAT,GAAiB,KAAK,CAAC,KAAvB;AACA,eAAO,KAAP;AACD;;AAED,MAAA,QAAQ,CAAC,KAAT,GAAiB,CAAjB;AAEA,MAAA,UAAU,CAAC,YAAM;AACf,QAAA,IAAI,CAAC,CAAD,CAAJ;AACD,OAFS,EAEP,EAFO,CAAV;AAGD,KAbD;;AAeA,QAAM,QAAQ,GAAG,SAAX,QAAW,GAAM;AACrB,MAAA,IAAI,CAAC,KAAK,CAAC,KAAN,IAAe,KAAK,CAAC,QAAN,GAAiB,EAAhC,CAAD,CAAJ;AACD,KAFD;;AAIA,IAAA,KAAK,CAAC,KAAD,EAAQ,YAAM;AACjB,MAAA,QAAQ;AACT,KAFI,CAAL;AAIA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,QAAQ;AACT,KAFQ,CAAT","sourcesContent":["<script setup>\nimport { computed, ref, watch, onMounted } from 'vue'\nimport numeral from 'numeral'\n\nconst props = defineProps({\n  prefix: {\n    type: String,\n    default: null\n  },\n  suffix: {\n    type: String,\n    default: null\n  },\n  value: {\n    type: Number,\n    default: 0\n  },\n  duration: {\n    type: Number,\n    default: 500\n  }\n})\n\nconst newValue = ref(0)\n\nconst newValueFormatted = computed(\n  () => newValue.value < 1000 ? newValue.value : numeral(newValue.value).format('0,0')\n)\n\nconst value = computed(() => props.value)\n\nconst grow = m => {\n  const v = Math.ceil(newValue.value + m)\n\n  if (v > value.value) {\n    newValue.value = value.value\n    return false\n  }\n\n  newValue.value = v\n\n  setTimeout(() => {\n    grow(m)\n  }, 25)\n}\n\nconst growInit = () => {\n  grow(props.value / (props.duration / 25))\n}\n\nwatch(value, () => {\n  growInit()\n})\n\nonMounted(() => {\n  growInit()\n})\n</script>\n\n<template>\n  <div>{{ prefix }}{{ newValueFormatted }}{{ suffix }}</div>\n</template>s\n"]},"metadata":{},"sourceType":"module"}