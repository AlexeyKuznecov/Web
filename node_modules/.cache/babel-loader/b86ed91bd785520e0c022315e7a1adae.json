{"ast":null,"code":"import _defineProperty from \"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _mutations;\n\nimport { USER_REQUEST, USER_ERROR, USER_SUCCESS } from \"../actions/user\";\nimport axios from \"axios\";\nimport Vue from \"vue\"; //import { AUTH_LOGOUT } from \"@/store/actions/auth\";\n\nvar state = {\n  status: \"\",\n  profile: {}\n};\nvar getters = {\n  getProfile: function getProfile(state) {\n    return state.profile;\n  },\n  isProfileLoaded: function isProfileLoaded(state) {\n    return !!state.profile.owner_title;\n  }\n};\n\nvar actions = _defineProperty({}, USER_REQUEST, function (_ref) {\n  var commit = _ref.commit;\n  var url = 'https://web.leadertask.com/api/v1/account/info';\n  commit(USER_REQUEST);\n  axios.get(url).then(function (resp) {\n    console.log(resp.data);\n    commit(USER_SUCCESS, resp);\n  }).catch(function (err) {\n    console.log(err.message);\n    commit(USER_ERROR); //dispatch(AUTH_LOGOUT);\n  });\n});\n\nvar mutations = (_mutations = {}, _defineProperty(_mutations, USER_REQUEST, function (state) {\n  state.status = \"loading\";\n}), _defineProperty(_mutations, USER_SUCCESS, function (state, resp) {\n  state.status = \"success\";\n  Vue.set(state, \"profile\", resp);\n}), _defineProperty(_mutations, USER_ERROR, function (state) {\n  state.status = \"error\";\n}), _mutations);\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};","map":{"version":3,"sources":["/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/store/modules/user.js"],"names":["USER_REQUEST","USER_ERROR","USER_SUCCESS","axios","Vue","state","status","profile","getters","getProfile","isProfileLoaded","owner_title","actions","commit","url","get","then","resp","console","log","data","catch","err","message","mutations","set"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,UAAvB,EAAmCC,YAAnC,QAAuD,iBAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB,C,CACA;;AAEA,IAAMC,KAAK,GAAG;AAAEC,EAAAA,MAAM,EAAE,EAAV;AAAcC,EAAAA,OAAO,EAAE;AAAvB,CAAd;AAEA,IAAMC,OAAO,GAAG;AACdC,EAAAA,UAAU,EAAE,oBAAAJ,KAAK;AAAA,WAAIA,KAAK,CAACE,OAAV;AAAA,GADH;AAEdG,EAAAA,eAAe,EAAE,yBAAAL,KAAK;AAAA,WAAI,CAAC,CAACA,KAAK,CAACE,OAAN,CAAcI,WAApB;AAAA;AAFR,CAAhB;;AAKA,IAAMC,OAAO,uBACVZ,YADU,EACK,gBAAgC;AAAA,MAA7Ba,MAA6B,QAA7BA,MAA6B;AAC9C,MAAMC,GAAG,GAAG,gDAAZ;AACAD,EAAAA,MAAM,CAACb,YAAD,CAAN;AACAG,EAAAA,KAAK,CAACY,GAAN,CAAUD,GAAV,EACGE,IADH,CACQ,UAAAC,IAAI,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,IAAjB;AACAP,IAAAA,MAAM,CAACX,YAAD,EAAee,IAAf,CAAN;AACD,GAJH,EAKGI,KALH,CAKS,UAACC,GAAD,EAAS;AACdJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,OAAhB;AACAV,IAAAA,MAAM,CAACZ,UAAD,CAAN,CAFc,CAGd;AACD,GATH;AAUD,CAdU,CAAb;;AAiBA,IAAMuB,SAAS,iDACZxB,YADY,EACG,UAAAK,KAAK,EAAI;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,CAHY,+BAIZJ,YAJY,EAIG,UAACG,KAAD,EAAQY,IAAR,EAAiB;AAC/BZ,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAF,EAAAA,GAAG,CAACqB,GAAJ,CAAQpB,KAAR,EAAe,SAAf,EAA0BY,IAA1B;AACD,CAPY,+BAQZhB,UARY,EAQC,UAAAI,KAAK,EAAI;AACrBA,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,CAVY,cAAf;AAgBA,eAAe;AACbD,EAAAA,KAAK,EAALA,KADa;AAEbG,EAAAA,OAAO,EAAPA,OAFa;AAGbI,EAAAA,OAAO,EAAPA,OAHa;AAIbY,EAAAA,SAAS,EAATA;AAJa,CAAf","sourcesContent":["import { USER_REQUEST, USER_ERROR, USER_SUCCESS } from \"../actions/user\"; \nimport axios from \"axios\";\nimport Vue from \"vue\";\n//import { AUTH_LOGOUT } from \"@/store/actions/auth\";\n\nconst state = { status: \"\", profile: {} };\n\nconst getters = {\n  getProfile: state => state.profile,\n  isProfileLoaded: state => !!state.profile.owner_title\n};\n\nconst actions = {\n  [USER_REQUEST]: ({ commit /*, dispatch */ }) => {\n    const url = 'https://web.leadertask.com/api/v1/account/info'\n    commit(USER_REQUEST);\n    axios.get(url)\n      .then(resp => {\n        console.log(resp.data) \n        commit(USER_SUCCESS, resp);\n      })\n      .catch((err) => {\n        console.log(err.message) \n        commit(USER_ERROR);\n        //dispatch(AUTH_LOGOUT);\n      });\n  }\n};\n\nconst mutations = {\n  [USER_REQUEST]: state => {\n    state.status = \"loading\";\n  },\n  [USER_SUCCESS]: (state, resp) => {\n    state.status = \"success\";\n    Vue.set(state, \"profile\", resp);\n  },\n  [USER_ERROR]: state => {\n    state.status = \"error\";\n  },\n  //[AUTH_LOGOUT]: state => {\n  //  state.profile = {};\n  //}\n};\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};\n"]},"metadata":{},"sourceType":"module"}