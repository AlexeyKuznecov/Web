{"remainingRequest":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/views/Login.vue?vue&type=style&index=0&id=0690b5b8&lang=css","dependencies":[{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/views/Login.vue","mtime":1639583156071},{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/css-loader/dist/cjs.js","mtime":1639569340452},{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/vue-loader/dist/stylePostLoader.js","mtime":1639569340054},{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/postcss-loader/dist/cjs.js","mtime":1639569339696},{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/cache-loader/dist/cjs.js","mtime":1639569338726},{"path":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/node_modules/vue-loader/dist/index.js","mtime":1639569339380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouZXJyb3ItbWVzc2FnZSB7CiAgY29sb3I6ICM4RDAyMUY7CiAgZm9udC1zaXplOiAxNHB4Owp9Cgouc2xpZGUtZmFkZS1lbnRlci1hY3RpdmUgewogIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2Utb3V0Owp9Cgouc2xpZGUtZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigxLCAwLjUsIDAuOCwgMSk7Cn0KCi5zbGlkZS1mYWRlLWVudGVyLWZyb20sCi5zbGlkZS1mYWRlLWxlYXZlLXRvIHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNzVweCk7CiAgb3BhY2l0eTogMDsKfQo="},{"version":3,"sources":["/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/views/Login.vue"],"names":[],"mappings":";;AAoLA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AACnD;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ","file":"/Users/dmitrygashilov/Projects/admin-one-vue-tailwind/src/views/Login.vue","sourceRoot":"","sourcesContent":["<script setup>\nimport { reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport axios from 'axios'\nimport store from '@/store'\nimport { mdiAccount, mdiAsterisk } from '@mdi/js'\nimport FullScreenSection from '@/components/FullScreenSection.vue'\nimport CardComponent from '@/components/CardComponent.vue'\nimport Field from '@/components/Field.vue'\nimport Control from '@/components/Control.vue'\nimport Divider from '@/components/Divider.vue'\nimport JbButton from '@/components/JbButton.vue'\nimport JbButtons from '@/components/JbButtons.vue'\n\nimport { AUTH_REQUEST, AUTH_REGISTER } from '@/store/actions/auth'\n\nconst form = reactive({\n  email: '',\n  password: '',\n  username: ''\n})\n\nconst showValues = reactive({\n  showRegisterInputsValue: false,\n  showLoginInputsValue: false\n})\n\nconst router = useRouter()\n\nconst submit = () => {\n  if (showValues.showLoginInputsValue) {\n    login()\n  } else if (showValues.showRegisterInputsValue) {\n    register()\n  }\n}\n\nconst login = () => {\n  const data = { email: form.email, password: form.password }\n  store.dispatch(AUTH_REQUEST, data)\n    .then(() => {\n      router.push('/')\n    })\n    .catch((err) => console.log(err.message))\n}\n\nconst register = () => {\n  if (!form.password || !form.username) { return }\n  const data = {\n    email: form.email,\n    password: form.password,\n    name: form.username,\n    system: 'web',\n    language: 'russian'\n  }\n  store.dispatch(AUTH_REGISTER, data)\n    .then(() => {\n      router.push('/')\n    })\n    .catch((err) => console.log(err.message))\n}\n\nconst hideLoginInputs = () => {\n  showValues.showLoginInputsValue = false\n}\n\nconst showLoginInputs = () => {\n  showValues.showLoginInputsValue = true\n  hideRegisterInputs()\n}\n\nconst hideRegisterInputs = () => {\n  showValues.showRegisterInputsValue = false\n}\n\nconst showRegisterInputs = () => {\n  showValues.showRegisterInputsValue = true\n  hideLoginInputs()\n}\n\nconst checkEmailExistense = () => {\n  if (form.email) {\n    const uri = 'https://web.leadertask.com/api/v1/users/exists?email=' + form.email\n    axios.get(uri)\n      .then(() => {\n        showLoginInputs()\n      })\n      .catch(() => {\n        showRegisterInputs()\n      })\n  }\n}\n\n</script>\n<template>\n  <full-screen-section\n    v-slot=\"{ cardClass, cardRounded }\"\n    bg=\"login\"\n  >\n    <card-component\n      :class=\"cardClass\"\n      :rounded=\"cardRounded\"\n      form\n      @submit.prevent=\"submit\"\n    >\n      <field\n        label=\"Email\"\n        help=\"Please enter your email\"\n      >\n        <control\n          v-model=\"form.email\"\n          @blur=\"checkEmailExistense\"\n          :icon=\"mdiAccount\"\n          name=\"email\"\n          autocomplete=\"email\"\n          required\n        />\n      </field>\n\n  <transition-group name=\"slide-fade\">\n    <div v-if=\"showValues.showLoginInputsValue\">\n      <field\n        label=\"Password\"\n        help=\"Please enter your password\"\n      >\n        <control\n          v-model=\"form.password\"\n          :icon=\"mdiAsterisk\"\n          type=\"password\"\n          name=\"password\"\n          autocomplete=\"current-password\"\n        />\n      </field>\n    </div>\n  </transition-group>\n\n  <transition-group name=\"slide-fade\">\n    <div v-if=\"showValues.showRegisterInputsValue\">\n      <field\n        label=\"Password\"\n        help=\"Please enter your password\"\n      >\n        <control\n          v-model=\"form.password\"\n          :icon=\"mdiAsterisk\"\n          type=\"password\"\n          name=\"password\"\n          autocomplete=\"current-password\"\n        />\n      </field>\n\n      <field\n        label=\"Username\"\n        help=\"Plase enter your username\"\n      >\n        <control\n          v-model=\"form.username\"\n          type=\"text\"\n          name=\"username\"\n          autocomplete=\"username\"\n        />\n      </field>\n    </div>\n  </transition-group>\n\n      <divider />\n\n      <jb-buttons>\n        <jb-button\n          type=\"submit\"\n          color=\"info\"\n          label=\"Submit\"\n        />\n      </jb-buttons>\n    </card-component>\n  </full-screen-section>\n</template>\n\n<style>\n\n.error-message {\n  color: #8D021F;\n  font-size: 14px;\n}\n\n.slide-fade-enter-active {\n  transition: all 0.3s ease-out;\n}\n\n.slide-fade-leave-active {\n  transition: all 0.3s cubic-bezier(1, 0.5, 0.8, 1);\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  transform: translateX(75px);\n  opacity: 0;\n}\n</style>\n"]}]}