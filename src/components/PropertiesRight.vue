<script>
import { createPopper } from '@popperjs/core'
import { computed } from 'vue'
import { DatePicker } from 'v-calendar'
import { useStore } from 'vuex'
export default {
  components: {
    DatePicker
  },
  data () {
    const store = useStore()
    const taskMessages = computed(() => store.state.taskmessages.messages)
    const taskFiles = computed(() => store.state.taskfiles.files)
    const selectedTask = computed(() => store.state.tasks.selectedTask)
    const navigator = computed(() => store.state.navigator.navigator)
    const tasks = computed(() => store.state.tasks)
    const employeesByEmail = computed(() => store.state.employees.employeesByEmail)
    return {
      show: false,
      isFullScreen: computed(() => store.state.isFullScreen),
      isPropertiesMobileExpanded: computed(() => store.state.isAsideMobileExpanded),
      isAsideLgActive: computed(() => store.state.isAsideLgActive),
      selectedTask: selectedTask,
      taskMessages: taskMessages,
      taskFiles: taskFiles,
      tasks: tasks,
      navigator: navigator,
      employeesByEmail: employeesByEmail,
      tags: computed(() => store.state.tasks.tags),
      employees: computed(() => store.state.employees.employees),
      projects: computed(() => store.state.projects.projects),
      localization: computed(() => store.state.localization.localization),
      colors: computed(() => store.state.colors.colors),
      cusers: computed(() => store.state.user.user),
      newArray: taskMessages.value.concat(taskFiles.value),
      months: ['Января', 'Февраля', 'Марта', 'Апреля', 'Мая', 'Июня', 'Июля', 'Августа', 'Сентября', 'Октября', 'Ноября', 'Декабря'],
      days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],
      statuses: [
        'status_not_begin',
        'status_ready',
        'task_by_link',
        'status_note',
        'status_in_work',
        'status_task_ready',
        'status_paused',
        'status_cancelled',
        'status_reject',
        'status_refine'
      ],
      remi: {
        date: new Date(),
        timezone: 'Europe/Moscow'
      },
      replay: {
        date: new Date(),
        timezone: 'Europe/Moscow'
      },
      range: [{
        start: new Date(2022, 1, 20),
        end: new Date(2022, 1, 22)
      }],
      selected: {},
      masks: {
        input: 'DD-MM-YYYY'
      },
      popoverShow: false,
      popoverShowEmployee: false,
      popoverShowRepeat: false,
      popoverShowReminder: false,
      popoverShowProject: false,
      popoverShowColor: false,
      popoverShowTags: false
    }
  },
  methods: {
    togglePopover_access: function () {
      if (this.popoverShow) {
        this.popoverShow = false
      } else {
        this.popoverShow = true
        createPopper(this.$refs.btnRef, this.$refs.popoverRef, {
          placement: 'bottom'
        })
      }
    },
    togglePopover_employee: function () {
      if (this.popoverShowEmployee) {
        this.popoverShowEmployee = false
      } else {
        this.popoverShowEmployee = true
        createPopper(this.$refs.btnRefEmployee, this.$refs.popoverRefEmployee, {
          placement: 'bottom'
        })
      }
    },
    togglePopover_repeat: function () {
      if (this.popoverShowRepeat) {
        this.popoverShowRepeat = false
      } else {
        this.popoverShowRepeat = true
        createPopper(this.$refs.btnRefRepeat, this.$refs.popoverRefRepeat, {
          placement: 'bottom'
        })
      }
    },
    togglePopover_reminder: function () {
      if (this.popoverShowReminder) {
        this.popoverShowReminder = false
      } else {
        this.popoverShowReminder = true
        createPopper(this.$refs.btnRefReminder, this.$refs.popoverRefReminder, {
          placement: 'bottom'
        })
      }
    },
    togglePopover_project: function () {
      if (this.popoverShowProject) {
        this.popoverShowProject = false
      } else {
        this.popoverShowProject = true
        createPopper(this.$refs.btnRefProject, this.$refs.popoverRefProject, {
          placement: 'left'
        })
      }
    },
    togglePopover_color: function () {
      if (this.popoverShowColor) {
        this.popoverShowColor = false
      } else {
        this.popoverShowColor = true
        createPopper(this.$refs.btnRefColor, this.$refs.popoverRefColor, {
          placement: 'left'
        })
      }
    },
    togglePopover_tags: function () {
      if (this.popoverShowTags) {
        this.popoverShowTags = false
      } else {
        this.popoverShowTags = true
        createPopper(this.$refs.btnRefTags0, this.$refs.popoverRefTags0, {
          placement: 'left'
        })
      }
    },
    selectdata (date) {
      this.$refs.datePicker.value = date
      this.selected = date
      this.range.push({
        start: date,
        end: date
      })
      return date
    }
  },
  mounted () {
    this.selectdata()
  }
}
</script>
<template>
  <aside
    v-if="selectedTask"
    v-show="!isFullScreen"
    id="aside"
    class="-right-96 w-96 fixed top-0 z-40 h-screen transition-position lg:right-0 dark:border-r dark:border-gray-800"
    :class="[ isPropertiesMobileExpanded ? 'right-0' : '-right-90', isAsideLgActive ? 'block' : 'lg:hidden xl:block' ]"
  >
    <div class="break-words">
      <div class="column-resize">
      <div
        v-if="selectedTask.uid_parent!=='00000000-0000-0000-0000-000000000000' && selectedTask.has_children===false"
        class="user_customer_custom"
      >
        <svg width="49" height="74" viewBox="0 0 49 74" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M45.2345 65.8769H27.6932V25.3655C27.6932 23.4726 26.0526 21.832 24.0335 21.832H12.9281L24.0335 8.45518L41.701 25.3655C42.4582 25.9965 43.3415 26.3751 44.3511 26.3751C45.3607 26.3751 46.2441 25.9965 47.0012 25.3655C47.6322 24.7345 48.0108 23.8512 48.0108 22.9678C48.0108 22.0844 47.6322 21.201 47.0012 20.4439L26.8098 1.13577C25.9264 0.37859 24.9168 0 23.9073 0C22.8977 0 22.0143 0.37859 21.2571 1.00957L1.06566 22.8416C0.0560874 23.8512 -0.322503 25.3655 0.308481 26.6275C0.813267 27.8895 2.20143 28.7728 3.71579 28.7728H20.2476V69.9152C20.2476 71.682 21.6357 73.0701 23.4025 73.0701H45.2345C47.2536 73.0701 48.768 71.4296 48.768 69.5366C48.768 67.6437 47.2536 65.8769 45.2345 65.8769Z" fill="black" fill-opacity="0.5"/>
        </svg>{{ selectedTask.children.name }}
      </div>
      <p><strong>{{ selectedTask.name }}</strong></p>
      <!--   <p class="mt-3"><strong>{{ localization.task_created }}:</strong> {{ selectedTask.date_create }}</p>
      <p><strong>Исполнитель:</strong> {{ selectedTask.email_performer }}</p>-->
      <p style="display: none">
        <strong>{{ localization.gc_status }}: </strong> {{ localization[statuses[selectedTask.status]] }}
      </p>
     <!-- <p v-if="selectedTask.uid_project !== '00000000-0000-0000-0000-000000000000'">
        <strong>{{ localization.props_prj }}: </strong> {{ projects[selectedTask.uid_project].name }}
      </p>-->
      <!--   <p v-if="selectedTask.plan"><strong>План:</strong> {{ selectedTask.plan }}</p>
      <p v-if="selectedTask.email"><strong>Задача открыта для:</strong> {{ selectedTask.email }}</p>
      <p v-if="selectedTask.checklist"><strong>Чек-лист:</strong> {{ selectedTask.checklist }}</p>
      <p><strong>Задачу создал:</strong> {{ selectedTask.customer_name }}</p>-->
      <div
        class="mt-3 custom-list-tags"
      >
        <!-- <p class="text-center">{{ localization.Labels }}</p>-->
        <div class="mt-3 tags-custom" ref="btnRefEmployee" v-on:click="togglePopover_employee()"  v-if="selectedTask.email_performer!=='' && selectedTask.email!==selectedTask.email_performer.toLowerCase()">

          <svg width="24" height="24" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M83.7121 54.9882C80.8778 52.5882 77.4767 50.3294 73.5087 48.6353C71.8081 47.9294 69.8241 48.6353 69.1156 50.3294C68.407 52.0235 69.1156 54 70.8161 54.7059C74.0756 56.1177 76.9098 57.9529 79.319 59.9294C82.1533 62.4706 83.8538 66 83.8538 69.8118V84.9177C83.8538 86.7529 82.295 88.1647 80.5944 88.1647H15.4058C13.5636 88.1647 12.1464 86.6118 12.1464 84.9177V69.8118C12.1464 66 13.847 62.3294 16.6813 59.9294C20.0824 56.9647 29.8607 50.1882 48.0001 50.1882C61.6047 50.1882 72.5167 39.1765 72.5167 25.7647C72.5167 12.2118 61.6047 1.2 48.0001 1.2C34.3956 1.2 23.4836 12.2118 23.4836 25.6235C23.4836 33.5294 27.3098 40.5882 33.1201 44.9647C22.4916 47.3647 15.831 51.7412 12.2881 54.8471C7.89498 58.6588 5.48584 64.1647 5.48584 69.8118V84.9177C5.48584 90.4235 10.0207 94.8 15.4058 94.8H80.5944C86.1213 94.8 90.5144 90.2824 90.5144 84.9177V69.8118C90.5144 64.1647 88.1053 58.6588 83.7121 54.9882ZM30.0024 25.6235C30.0024 15.7412 38.0801 7.69412 48.0001 7.69412C57.9201 7.69412 65.9978 15.7412 65.9978 25.6235C65.9978 35.5059 57.9201 43.5529 48.0001 43.5529C38.0801 43.5529 30.0024 35.5059 30.0024 25.6235Z" fill="#86D69D" fill-opacity="1"/>
          </svg>
          <span>{{ selectedTask.email_performer }}</span>
        </div>
        <div class="mt-3 tags-custom active" ref="btnRefEmployee" v-on:click="togglePopover_employee()"  v-else>

          <svg width="24" height="24" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M83.7121 54.9882C80.8778 52.5882 77.4767 50.3294 73.5087 48.6353C71.8081 47.9294 69.8241 48.6353 69.1156 50.3294C68.407 52.0235 69.1156 54 70.8161 54.7059C74.0756 56.1177 76.9098 57.9529 79.319 59.9294C82.1533 62.4706 83.8538 66 83.8538 69.8118V84.9177C83.8538 86.7529 82.295 88.1647 80.5944 88.1647H15.4058C13.5636 88.1647 12.1464 86.6118 12.1464 84.9177V69.8118C12.1464 66 13.847 62.3294 16.6813 59.9294C20.0824 56.9647 29.8607 50.1882 48.0001 50.1882C61.6047 50.1882 72.5167 39.1765 72.5167 25.7647C72.5167 12.2118 61.6047 1.2 48.0001 1.2C34.3956 1.2 23.4836 12.2118 23.4836 25.6235C23.4836 33.5294 27.3098 40.5882 33.1201 44.9647C22.4916 47.3647 15.831 51.7412 12.2881 54.8471C7.89498 58.6588 5.48584 64.1647 5.48584 69.8118V84.9177C5.48584 90.4235 10.0207 94.8 15.4058 94.8H80.5944C86.1213 94.8 90.5144 90.2824 90.5144 84.9177V69.8118C90.5144 64.1647 88.1053 58.6588 83.7121 54.9882ZM30.0024 25.6235C30.0024 15.7412 38.0801 7.69412 48.0001 7.69412C57.9201 7.69412 65.9978 15.7412 65.9978 25.6235C65.9978 35.5059 57.9201 43.5529 48.0001 43.5529C38.0801 43.5529 30.0024 35.5059 30.0024 25.6235Z" fill="white" fill-opacity="1"/>
          </svg>
       <span
          class="rounded"
        >Поручить</span>
        </div>
        <span v-if="selectedTask.emails!==''" >
        <div class="mt-3 tags-custom" ref="btnRef" v-on:click="togglePopover_access()"  v-for="(key,value) in selectedTask.emails.split('..')" :key="value">
          <svg width="24" height="24" viewBox="0 0 91 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M73.9839 48.8864C73.9839 50.6954 72.5056 52.1754 70.6989 52.1754C68.8921 52.1754 67.4139 50.6954 67.4139 48.8864V44.4723C67.4139 40.8379 64.4738 37.8943 60.8439 37.8943H13.5399C9.90998 37.8943 6.9699 40.8379 6.9699 44.4723V78.7765C6.9699 82.4109 9.90998 85.3545 13.5399 85.3545H46.2096C48.026 85.3545 49.4986 86.827 49.4986 88.6435C49.4986 90.4599 48.026 91.9324 46.2096 91.9324H13.5399C6.29648 91.9324 0.399902 86.0287 0.399902 78.7765V44.4723C0.399902 37.2201 6.29648 31.3164 13.5399 31.3164H17.4819V19.7227C17.4819 9.06645 26.335 0.400002 37.1919 0.400002C48.0488 0.400002 56.9019 9.06645 56.9019 19.7227V31.3164H60.8439C68.0873 31.3164 73.9839 37.2201 73.9839 44.4723V48.8864ZM50.3319 31.3164H24.0519V19.7227C24.0519 12.7008 29.9485 6.97795 37.1919 6.97795C44.4353 6.97795 50.3319 12.7008 50.3319 19.7227V31.3164ZM39.6617 74.5013C39.2039 72.1608 37.9572 70.1461 36.2429 68.7334C35.9442 68.4873 35.8725 68.0521 36.0635 67.7155C38.5384 63.3546 35.4507 57.5131 30.3371 57.5369C25.2466 57.5131 22.1379 63.3545 24.6108 67.7154C24.8018 68.0521 24.7301 68.4873 24.4312 68.7331C22.713 70.1458 21.4486 72.1606 21.0126 74.5013L20.0665 79.3638C19.9824 79.796 20.3133 80.1975 20.7536 80.1975H39.9207C40.3609 80.1975 40.6919 79.796 40.6078 79.3638L39.6617 74.5013ZM28.1445 64.3525C28.1445 63.1087 29.1324 62.0889 30.3371 62.0889C33.2526 62.2133 33.2526 66.4917 30.3371 66.616C29.1324 66.616 28.1445 65.5962 28.1445 64.3525ZM26.0807 75.6703C25.6477 75.6703 25.3161 75.2764 25.4414 74.8619C26.9349 69.9202 33.7153 69.9202 35.2088 74.8619C35.334 75.2764 35.0024 75.6703 34.5695 75.6703H26.0807ZM64.4788 74.5013C64.021 72.1608 62.7743 70.1461 61.06 68.7334C60.7613 68.4873 60.6896 68.0521 60.8806 67.7155C63.3555 63.3546 60.2678 57.5131 55.1542 57.5369C50.0637 57.5131 46.955 63.3545 49.4279 67.7154C49.6189 68.0521 49.5472 68.4873 49.2483 68.7331C47.5301 70.1458 46.2657 72.1606 45.8297 74.5013L44.8836 79.3638C44.7995 79.796 45.1304 80.1975 45.5707 80.1975H64.7378C65.178 80.1975 65.509 79.796 65.4249 79.3638L64.4788 74.5013ZM52.9616 64.3525C52.9616 63.1087 53.9495 62.0889 55.1542 62.0889C58.0697 62.2133 58.0697 66.4917 55.1542 66.616C53.9495 66.616 52.9616 65.5962 52.9616 64.3525ZM50.8978 75.6703C50.4648 75.6703 50.1332 75.2764 50.2585 74.8619C51.752 69.9202 58.5324 69.9202 60.0259 74.8619C60.1511 75.2764 59.8195 75.6703 59.3866 75.6703H50.8978ZM85.8771 68.7334C87.5914 70.1461 88.8381 72.1608 89.2959 74.5013L90.242 79.3638C90.3261 79.796 89.9951 80.1975 89.5549 80.1975H70.3878C69.9475 80.1975 69.6166 79.796 69.7006 79.3638L70.6468 74.5013C71.0828 72.1606 72.3472 70.1458 74.0654 68.7331C74.3643 68.4873 74.4359 68.0521 74.245 67.7154C71.7721 63.3545 74.8808 57.5131 79.9713 57.5369C85.0849 57.5131 88.1726 63.3546 85.6977 67.7155C85.5067 68.0521 85.5784 68.4873 85.8771 68.7334ZM79.9713 62.0889C78.7666 62.0889 77.7787 63.1087 77.7787 64.3525C77.7787 65.5962 78.7666 66.616 79.9713 66.616C82.8868 66.4917 82.8868 62.2133 79.9713 62.0889ZM75.0756 74.8619C74.9503 75.2764 75.2819 75.6703 75.7149 75.6703H84.2037C84.6366 75.6703 84.9682 75.2764 84.843 74.8619C83.3495 69.9202 76.5691 69.9202 75.0756 74.8619Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded">{{employeesByEmail[key].name}}</span>

        </div>
        </span>
        <div class="mt-3 tags-custom" ref="btnRef" v-on:click="togglePopover_access()" v-else>
          <svg width="24" height="24" viewBox="0 0 91 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M73.9839 48.8864C73.9839 50.6954 72.5056 52.1754 70.6989 52.1754C68.8921 52.1754 67.4139 50.6954 67.4139 48.8864V44.4723C67.4139 40.8379 64.4738 37.8943 60.8439 37.8943H13.5399C9.90998 37.8943 6.9699 40.8379 6.9699 44.4723V78.7765C6.9699 82.4109 9.90998 85.3545 13.5399 85.3545H46.2096C48.026 85.3545 49.4986 86.827 49.4986 88.6435C49.4986 90.4599 48.026 91.9324 46.2096 91.9324H13.5399C6.29648 91.9324 0.399902 86.0287 0.399902 78.7765V44.4723C0.399902 37.2201 6.29648 31.3164 13.5399 31.3164H17.4819V19.7227C17.4819 9.06645 26.335 0.400002 37.1919 0.400002C48.0488 0.400002 56.9019 9.06645 56.9019 19.7227V31.3164H60.8439C68.0873 31.3164 73.9839 37.2201 73.9839 44.4723V48.8864ZM50.3319 31.3164H24.0519V19.7227C24.0519 12.7008 29.9485 6.97795 37.1919 6.97795C44.4353 6.97795 50.3319 12.7008 50.3319 19.7227V31.3164ZM39.6617 74.5013C39.2039 72.1608 37.9572 70.1461 36.2429 68.7334C35.9442 68.4873 35.8725 68.0521 36.0635 67.7155C38.5384 63.3546 35.4507 57.5131 30.3371 57.5369C25.2466 57.5131 22.1379 63.3545 24.6108 67.7154C24.8018 68.0521 24.7301 68.4873 24.4312 68.7331C22.713 70.1458 21.4486 72.1606 21.0126 74.5013L20.0665 79.3638C19.9824 79.796 20.3133 80.1975 20.7536 80.1975H39.9207C40.3609 80.1975 40.6919 79.796 40.6078 79.3638L39.6617 74.5013ZM28.1445 64.3525C28.1445 63.1087 29.1324 62.0889 30.3371 62.0889C33.2526 62.2133 33.2526 66.4917 30.3371 66.616C29.1324 66.616 28.1445 65.5962 28.1445 64.3525ZM26.0807 75.6703C25.6477 75.6703 25.3161 75.2764 25.4414 74.8619C26.9349 69.9202 33.7153 69.9202 35.2088 74.8619C35.334 75.2764 35.0024 75.6703 34.5695 75.6703H26.0807ZM64.4788 74.5013C64.021 72.1608 62.7743 70.1461 61.06 68.7334C60.7613 68.4873 60.6896 68.0521 60.8806 67.7155C63.3555 63.3546 60.2678 57.5131 55.1542 57.5369C50.0637 57.5131 46.955 63.3545 49.4279 67.7154C49.6189 68.0521 49.5472 68.4873 49.2483 68.7331C47.5301 70.1458 46.2657 72.1606 45.8297 74.5013L44.8836 79.3638C44.7995 79.796 45.1304 80.1975 45.5707 80.1975H64.7378C65.178 80.1975 65.509 79.796 65.4249 79.3638L64.4788 74.5013ZM52.9616 64.3525C52.9616 63.1087 53.9495 62.0889 55.1542 62.0889C58.0697 62.2133 58.0697 66.4917 55.1542 66.616C53.9495 66.616 52.9616 65.5962 52.9616 64.3525ZM50.8978 75.6703C50.4648 75.6703 50.1332 75.2764 50.2585 74.8619C51.752 69.9202 58.5324 69.9202 60.0259 74.8619C60.1511 75.2764 59.8195 75.6703 59.3866 75.6703H50.8978ZM85.8771 68.7334C87.5914 70.1461 88.8381 72.1608 89.2959 74.5013L90.242 79.3638C90.3261 79.796 89.9951 80.1975 89.5549 80.1975H70.3878C69.9475 80.1975 69.6166 79.796 69.7006 79.3638L70.6468 74.5013C71.0828 72.1606 72.3472 70.1458 74.0654 68.7331C74.3643 68.4873 74.4359 68.0521 74.245 67.7154C71.7721 63.3545 74.8808 57.5131 79.9713 57.5369C85.0849 57.5131 88.1726 63.3546 85.6977 67.7155C85.5067 68.0521 85.5784 68.4873 85.8771 68.7334ZM79.9713 62.0889C78.7666 62.0889 77.7787 63.1087 77.7787 64.3525C77.7787 65.5962 78.7666 66.616 79.9713 66.616C82.8868 66.4917 82.8868 62.2133 79.9713 62.0889ZM75.0756 74.8619C74.9503 75.2764 75.2819 75.6703 75.7149 75.6703H84.2037C84.6366 75.6703 84.9682 75.2764 84.843 74.8619C83.3495 69.9202 76.5691 69.9202 75.0756 74.8619Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> Доступ</span>

        </div>
        <DatePicker
          is-range
          v-model="range"
        >
          <template v-slot="{ inputValue, togglePopover}" >
            <span class="mt-3 tags-custom">

                <span class="flex" v-if="selectedTask.customer_date_begin!=='' && selectedTask.customer_date_end!==''"

                >
                                <button @click="togglePopover()" class="btn-calendar">
                <svg width="24" height="24" viewBox="0 0 88 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5998 4.80001C17.5998 2.48041 19.4802 0.600006 21.7998 0.600006C24.1194 0.600006 25.9998 2.48041 25.9998 4.80001V7.8H61.9998V4.80001C61.9998 2.48041 63.8802 0.600006 66.1998 0.600006C68.5194 0.600006 70.3998 2.48041 70.3998 4.8V7.8H77.5998C82.9017 7.8 87.1998 12.0981 87.1998 17.4V79.8C87.1998 85.1019 82.9017 89.4 77.5998 89.4H10.3998C5.09787 89.4 0.799805 85.1019 0.799805 79.8V17.4C0.799805 12.0981 5.09787 7.8 10.3998 7.8H17.5998V4.80001ZM61.9998 14.4V19.2C61.9998 21.5196 63.8802 23.4 66.1998 23.4C68.5194 23.4 70.3998 21.5196 70.3998 19.2V14.4H77.5998C79.2567 14.4 80.5998 15.7431 80.5998 17.4V79.8C80.5998 81.4568 79.2567 82.8 77.5998 82.8H10.3998C8.74295 82.8 7.3998 81.4568 7.3998 79.8V17.4C7.3998 15.7431 8.74295 14.4 10.3998 14.4H17.5998V19.2C17.5998 21.5196 19.4802 23.4 21.7998 23.4C24.1194 23.4 25.9998 21.5196 25.9998 19.2V14.4H61.9998ZM19.9998 42.2348C19.9998 40.5779 21.343 39.2348 22.9998 39.2348H26.3911C28.048 39.2348 29.3911 40.5779 29.3911 42.2348V45.6261C29.3911 47.2829 28.048 48.6261 26.3911 48.6261H22.9998C21.343 48.6261 19.9998 47.2829 19.9998 45.6261V42.2348ZM39.8259 42.2348C39.8259 40.5779 41.1691 39.2348 42.8259 39.2348H46.2172C47.8741 39.2348 49.2172 40.5779 49.2172 42.2348V45.6261C49.2172 47.2829 47.8741 48.6261 46.2172 48.6261H42.8259C41.1691 48.6261 39.8259 47.2829 39.8259 45.6261V42.2348ZM61.6085 39.2348C59.9517 39.2348 58.6085 40.5779 58.6085 42.2348V45.6261C58.6085 47.2829 59.9517 48.6261 61.6085 48.6261H64.9998C66.6567 48.6261 67.9998 47.2829 67.9998 45.6261V42.2348C67.9998 40.5779 66.6567 39.2348 64.9998 39.2348H61.6085ZM22.9998 58.4348C21.343 58.4348 19.9998 59.7779 19.9998 61.4348V64.8261C19.9998 66.4829 21.343 67.8261 22.9998 67.8261H26.3911C28.048 67.8261 29.3911 66.4829 29.3911 64.8261V61.4348C29.3911 59.7779 28.048 58.4348 26.3911 58.4348H22.9998ZM42.8259 58.4348C41.1691 58.4348 39.8259 59.7779 39.8259 61.4348V64.8261C39.8259 66.4829 41.1691 67.8261 42.8259 67.8261H46.2172C47.8741 67.8261 49.2172 66.4829 49.2172 64.8261V61.4348C49.2172 59.7779 47.8741 58.4348 46.2172 58.4348H42.8259ZM58.6085 61.4348C58.6085 59.7779 59.9517 58.4348 61.6085 58.4348H64.9998C66.6567 58.4348 67.9998 59.7779 67.9998 61.4348V64.8261C67.9998 66.4829 66.6567 67.8261 64.9998 67.8261H61.6085C59.9517 67.8261 58.6085 66.4829 58.6085 64.8261V61.4348Z" fill="#3FBF64" fill-opacity="1"/>
</svg>
              </button>
            <input type="text" :value="[inputValue.start,inputValue.end]" ref="datePicker" @click="togglePopover()" @focus="selectdata([new Date(selectedTask.customer_date_begin).toLocaleDateString(),new Date(selectedTask.customer_date_end).toLocaleDateString()])" class="form-control-custom-date rounded">
             </span>
                        <span v-else
                              class="rounded"
                              @click="togglePopover()"
                        >               <button @click="togglePopover()">
                <svg width="24" height="24" viewBox="0 0 88 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5998 4.80001C17.5998 2.48041 19.4802 0.600006 21.7998 0.600006C24.1194 0.600006 25.9998 2.48041 25.9998 4.80001V7.8H61.9998V4.80001C61.9998 2.48041 63.8802 0.600006 66.1998 0.600006C68.5194 0.600006 70.3998 2.48041 70.3998 4.8V7.8H77.5998C82.9017 7.8 87.1998 12.0981 87.1998 17.4V79.8C87.1998 85.1019 82.9017 89.4 77.5998 89.4H10.3998C5.09787 89.4 0.799805 85.1019 0.799805 79.8V17.4C0.799805 12.0981 5.09787 7.8 10.3998 7.8H17.5998V4.80001ZM61.9998 14.4V19.2C61.9998 21.5196 63.8802 23.4 66.1998 23.4C68.5194 23.4 70.3998 21.5196 70.3998 19.2V14.4H77.5998C79.2567 14.4 80.5998 15.7431 80.5998 17.4V79.8C80.5998 81.4568 79.2567 82.8 77.5998 82.8H10.3998C8.74295 82.8 7.3998 81.4568 7.3998 79.8V17.4C7.3998 15.7431 8.74295 14.4 10.3998 14.4H17.5998V19.2C17.5998 21.5196 19.4802 23.4 21.7998 23.4C24.1194 23.4 25.9998 21.5196 25.9998 19.2V14.4H61.9998ZM19.9998 42.2348C19.9998 40.5779 21.343 39.2348 22.9998 39.2348H26.3911C28.048 39.2348 29.3911 40.5779 29.3911 42.2348V45.6261C29.3911 47.2829 28.048 48.6261 26.3911 48.6261H22.9998C21.343 48.6261 19.9998 47.2829 19.9998 45.6261V42.2348ZM39.8259 42.2348C39.8259 40.5779 41.1691 39.2348 42.8259 39.2348H46.2172C47.8741 39.2348 49.2172 40.5779 49.2172 42.2348V45.6261C49.2172 47.2829 47.8741 48.6261 46.2172 48.6261H42.8259C41.1691 48.6261 39.8259 47.2829 39.8259 45.6261V42.2348ZM61.6085 39.2348C59.9517 39.2348 58.6085 40.5779 58.6085 42.2348V45.6261C58.6085 47.2829 59.9517 48.6261 61.6085 48.6261H64.9998C66.6567 48.6261 67.9998 47.2829 67.9998 45.6261V42.2348C67.9998 40.5779 66.6567 39.2348 64.9998 39.2348H61.6085ZM22.9998 58.4348C21.343 58.4348 19.9998 59.7779 19.9998 61.4348V64.8261C19.9998 66.4829 21.343 67.8261 22.9998 67.8261H26.3911C28.048 67.8261 29.3911 66.4829 29.3911 64.8261V61.4348C29.3911 59.7779 28.048 58.4348 26.3911 58.4348H22.9998ZM42.8259 58.4348C41.1691 58.4348 39.8259 59.7779 39.8259 61.4348V64.8261C39.8259 66.4829 41.1691 67.8261 42.8259 67.8261H46.2172C47.8741 67.8261 49.2172 66.4829 49.2172 64.8261V61.4348C49.2172 59.7779 47.8741 58.4348 46.2172 58.4348H42.8259ZM58.6085 61.4348C58.6085 59.7779 59.9517 58.4348 61.6085 58.4348H64.9998C66.6567 58.4348 67.9998 59.7779 67.9998 61.4348V64.8261C67.9998 66.4829 66.6567 67.8261 64.9998 67.8261H61.6085C59.9517 67.8261 58.6085 66.4829 58.6085 64.8261V61.4348Z" fill="black" fill-opacity="0.5"/>
</svg>
              </button>Дата
            </span>
            </span>
          </template>
        </DatePicker>
        <div class="mt-3 tags-custom" ref="btnRefRepeat" v-on:click="togglePopover_repeat()" v-if="selectedTask.customer_date_begin!=='' && selectedTask.customer_date_end!==''">
          <svg width="24" height="24" viewBox="0 0 92 80" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.595 71.68H76.4048V66.5015C76.4048 64.3145 78.1735 62.5415 80.3554 62.5415C82.5373 62.5415 84.306 64.3145 84.306 66.5015V71.68C84.306 76.0541 80.7685 79.6 76.4048 79.6H15.595C11.2313 79.6 7.69378 76.0541 7.69378 71.68L7.69378 40H2.83583C0.728566 40 -0.380779 37.4961 1.03222 35.929L9.84079 26.1602C10.8061 25.0897 12.4827 25.0897 13.448 26.1602L22.2566 35.929C23.6696 37.4961 22.5602 40 20.453 40H15.595L15.595 71.68Z" fill="black" fill-opacity="0.5"/>
            <path d="M76.4048 8.32H15.595V13.4985C15.595 15.6855 13.8263 17.4585 11.6444 17.4585C9.46253 17.4585 7.69378 15.6855 7.69378 13.4985V8.32C7.69378 3.94591 11.2313 0.400002 15.595 0.400002H76.4048C80.7685 0.400002 84.306 3.9459 84.306 8.32V40H89.164C91.2712 40 92.3806 42.5039 90.9676 44.071L82.159 53.8398C81.1937 54.9103 79.5171 54.9103 78.5518 53.8398L69.7432 44.071C68.3302 42.5039 69.4396 40 71.5469 40H76.4048V8.32Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> Повтор</span>
        </div>
        <div class="mt-3 tags-custom" ref="btnRefReminder" v-on:click="togglePopover_reminder()">
          <svg width="24" height="24" viewBox="0 0 81 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M67.12 5.72C66.52 5.12 65.8 4.88 65.08 4.88C64.24 4.88 63.52 5.24 63.04 5.72C61.84 6.92 61.84 8.72 63.04 9.92C70.36 17.24 74.32 26.84 74.32 37.16C74.32 38.84 75.64 40.16 77.32 40.16C79 40.16 80.32 38.84 80.32 37.16C80.08 25.16 75.52 14 67.12 5.72Z" fill="black" fill-opacity="0.5"/>
            <path d="M6.28002 37.04C6.28002 26.72 10.24 17.12 17.56 9.8C18.16 9.32 18.4 8.6 18.4 7.76C18.4 6.92 18.04 6.2 17.56 5.72C17.08 5.24 16.24 4.88 15.52 4.88C14.8 4.88 13.96 5.24 13.48 5.72C4.96002 14 0.400024 25.16 0.400024 37.04C0.400024 38.72 1.72002 40.04 3.40002 40.04C5.08002 40.04 6.28002 38.72 6.28002 37.04Z" fill="black" fill-opacity="0.5"/>
            <path d="M74.2 65.36C68.8 60.8 65.68 54.2 65.68 47.12V37.04C65.68 24.08 56.08 13.28 43.24 11.72V3.8C43.24 2.12 41.92 0.800003 40.24 0.800003C38.56 0.800003 37.24 2.12 37.24 3.8V11.84C24.4 13.28 14.8 24.08 14.8 37.04V47.12C14.8 54.2 11.68 60.8 6.28002 65.36C4.84002 66.56 4.00002 68.48 4.00002 70.4C4.00002 74 6.88002 77 10.6 77H26.8C28.12 83.24 33.76 87.8 40.24 87.8C46.72 87.8 52.24 83.24 53.68 77H70C73.6 77 76.48 74.12 76.48 70.4C76.48 68.48 75.64 66.56 74.2 65.36ZM40.24 81.8C37 81.8 34.12 79.88 32.92 76.88H47.44C46.36 79.88 43.48 81.8 40.24 81.8ZM70 71H10.6C10.24 71 10 70.64 10 70.4C10 70.16 10.12 70.04 10.24 69.92C16.96 64.28 20.8 56 20.8 47.12V37.04C20.8 26.24 29.56 17.48 40.36 17.48C51.16 17.48 59.92 26.24 59.92 37.04V47.12C59.92 55.88 63.76 64.16 70.48 69.92C70.6 70.04 70.72 70.16 70.72 70.4C70.6 70.64 70.24 71 70 71Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> Напоминание</span>
        </div>
        <div class="mt-3 tags-custom" ref="btnRefProject" v-on:click="togglePopover_project()" v-if="selectedTask.uid_project !== '00000000-0000-0000-0000-000000000000' && projects[selectedTask.uid_project].name!==''">
          <svg width="24" height="24" viewBox="0 0 90 81" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M81.8999 17.1334V12.1427C81.8999 7.51337 78.1159 3.74215 73.4708 3.74215H38.7349L37.6926 2.02591C37.0581 1.03229 35.9478 0.399994 34.7696 0.399994H9.02918C4.38412 0.399994 0.600098 4.17121 0.600098 8.80056V72.1661C0.600098 76.7954 4.38412 80.5667 9.02918 80.5667H80.9709C85.616 80.5667 89.4 76.7954 89.4 72.1661V25.4888C89.4226 21.153 86.1144 17.585 81.8999 17.1334ZM7.44306 8.80056C7.44306 7.91985 8.16814 7.19722 9.05183 7.19722H32.8662L42.111 22.2369C42.7228 23.2306 43.8331 23.8629 45.034 23.8629H81.0162C81.8999 23.8629 82.625 24.5855 82.625 25.4662V72.1661C82.625 73.0468 81.8999 73.7694 81.0162 73.7694H9.02918C8.14548 73.7694 7.4204 73.0468 7.4204 72.1661V8.80056H7.44306ZM75.0569 17.0656H46.9147L42.9041 10.5394H73.4482C74.3319 10.5394 75.0569 11.262 75.0569 12.1427V17.0656Z" fill="black" fill-opacity="0.5"/>
          </svg>
          {{projects[selectedTask.uid_project].name}}
        </div>
        <div class="mt-3 tags-custom" ref="btnRefProject" v-on:click="togglePopover_project()" v-else>
          <svg width="24" height="24" viewBox="0 0 90 81" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M81.8999 17.1334V12.1427C81.8999 7.51337 78.1159 3.74215 73.4708 3.74215H38.7349L37.6926 2.02591C37.0581 1.03229 35.9478 0.399994 34.7696 0.399994H9.02918C4.38412 0.399994 0.600098 4.17121 0.600098 8.80056V72.1661C0.600098 76.7954 4.38412 80.5667 9.02918 80.5667H80.9709C85.616 80.5667 89.4 76.7954 89.4 72.1661V25.4888C89.4226 21.153 86.1144 17.585 81.8999 17.1334ZM7.44306 8.80056C7.44306 7.91985 8.16814 7.19722 9.05183 7.19722H32.8662L42.111 22.2369C42.7228 23.2306 43.8331 23.8629 45.034 23.8629H81.0162C81.8999 23.8629 82.625 24.5855 82.625 25.4662V72.1661C82.625 73.0468 81.8999 73.7694 81.0162 73.7694H9.02918C8.14548 73.7694 7.4204 73.0468 7.4204 72.1661V8.80056H7.44306ZM75.0569 17.0656H46.9147L42.9041 10.5394H73.4482C74.3319 10.5394 75.0569 11.262 75.0569 12.1427V17.0656Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> Проект</span>
        </div>
        <div class="mt-3 tags-custom" ref="btnRefColor" v-on:click="togglePopover_color()">
          <span v-if="selectedTask.uid_marker !== '00000000-0000-0000-0000-000000000000'">
          <svg width="24" height="24" viewBox="0 0 89 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M86.4883 31.2718L82.1334 26.8569C80.6576 25.3607 78.5769 24.8211 76.6656 25.2871C77.1253 23.3249 76.593 21.2155 75.1172 19.7438L65.6574 10.1535C64.7864 9.27053 63.6735 8.7064 62.5122 8.51017C62.3187 7.33285 61.7622 6.20458 60.8912 5.32158L57.9396 2.32921C55.6653 0.0236062 51.9879 0.0236062 49.7378 2.32921L20.0278 32.4492C17.7536 34.7548 17.7536 38.483 20.0278 40.764L26.3666 47.1903C26.9714 47.8035 27.2375 48.6129 27.165 49.4714C27.0682 50.3053 26.6085 51.0657 25.9069 51.5317C7.03567 63.7219 5.26951 65.5124 4.5195 66.2728C-0.706372 71.5708 -0.706372 80.18 4.5195 85.4779C9.74538 90.7759 18.2374 90.7759 23.4633 85.4779C24.2133 84.7176 25.9795 82.9271 38.0038 63.7955C38.4635 63.0842 39.1893 62.6182 40.0361 62.5201C40.8829 62.422 41.7055 62.7163 42.2861 63.3049L48.6249 69.7312C50.8992 72.0368 54.5766 72.0368 56.8266 69.7312L86.5367 39.6112C88.7626 37.2811 88.7626 33.5529 86.4883 31.2718ZM52.6895 65.537L46.3507 59.1107C44.512 57.2466 41.9474 56.3391 39.3587 56.6334C36.7699 56.9278 34.4715 58.3749 33.0683 60.5824C27.7456 69.069 21.0197 79.5177 19.302 81.2592C16.3503 84.2516 11.5357 84.2516 8.58407 81.2592C5.63242 78.2668 5.63242 73.3858 8.58407 70.3934C10.3018 68.652 20.6326 61.8578 28.9795 56.4372C31.157 55.0146 32.6086 52.6845 32.8989 50.06C33.1892 47.4356 32.2699 44.8356 30.4553 42.9715L24.1165 36.5453L28.7376 31.8605L57.2863 60.8031L52.6895 65.537ZM61.3993 56.707L32.8505 27.7644L53.8266 6.49891L56.8025 9.49128L53.4879 16.9477C53.3669 17.193 53.4395 17.5118 53.6331 17.708C53.8266 17.9043 54.1411 17.9533 54.3831 17.8307L61.5686 14.3232L71.0285 23.9135L61.9992 39.3961C61.8299 39.6659 61.8541 40.0092 62.0718 40.23C62.2896 40.4507 62.6525 40.4998 62.9186 40.3036L78.0447 31.002L82.3996 35.417L61.3993 56.707Z" :fill="colors[selectedTask.uid_marker].back_color" fill-opacity="0.5"/>
            <path d="M18.2858 74.9311C18.2858 76.8442 16.7616 78.3895 14.8745 78.3895C12.9874 78.3895 11.4631 76.8442 11.4631 74.9311C11.4631 73.0179 12.9874 71.4727 14.8745 71.4727C16.7616 71.4727 18.2858 73.0179 18.2858 74.9311Z" :fill="colors[selectedTask.uid_marker].back_color" fill-opacity="1"/>
          </svg>
               <span class="rounded"> {{ colors[selectedTask.uid_marker].name }}</span>
            </span>
          <span v-else>
              <svg width="24" height="24" viewBox="0 0 89 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M86.4883 31.2718L82.1334 26.8569C80.6576 25.3607 78.5769 24.8211 76.6656 25.2871C77.1253 23.3249 76.593 21.2155 75.1172 19.7438L65.6574 10.1535C64.7864 9.27053 63.6735 8.7064 62.5122 8.51017C62.3187 7.33285 61.7622 6.20458 60.8912 5.32158L57.9396 2.32921C55.6653 0.0236062 51.9879 0.0236062 49.7378 2.32921L20.0278 32.4492C17.7536 34.7548 17.7536 38.483 20.0278 40.764L26.3666 47.1903C26.9714 47.8035 27.2375 48.6129 27.165 49.4714C27.0682 50.3053 26.6085 51.0657 25.9069 51.5317C7.03567 63.7219 5.26951 65.5124 4.5195 66.2728C-0.706372 71.5708 -0.706372 80.18 4.5195 85.4779C9.74538 90.7759 18.2374 90.7759 23.4633 85.4779C24.2133 84.7176 25.9795 82.9271 38.0038 63.7955C38.4635 63.0842 39.1893 62.6182 40.0361 62.5201C40.8829 62.422 41.7055 62.7163 42.2861 63.3049L48.6249 69.7312C50.8992 72.0368 54.5766 72.0368 56.8266 69.7312L86.5367 39.6112C88.7626 37.2811 88.7626 33.5529 86.4883 31.2718ZM52.6895 65.537L46.3507 59.1107C44.512 57.2466 41.9474 56.3391 39.3587 56.6334C36.7699 56.9278 34.4715 58.3749 33.0683 60.5824C27.7456 69.069 21.0197 79.5177 19.302 81.2592C16.3503 84.2516 11.5357 84.2516 8.58407 81.2592C5.63242 78.2668 5.63242 73.3858 8.58407 70.3934C10.3018 68.652 20.6326 61.8578 28.9795 56.4372C31.157 55.0146 32.6086 52.6845 32.8989 50.06C33.1892 47.4356 32.2699 44.8356 30.4553 42.9715L24.1165 36.5453L28.7376 31.8605L57.2863 60.8031L52.6895 65.537ZM61.3993 56.707L32.8505 27.7644L53.8266 6.49891L56.8025 9.49128L53.4879 16.9477C53.3669 17.193 53.4395 17.5118 53.6331 17.708C53.8266 17.9043 54.1411 17.9533 54.3831 17.8307L61.5686 14.3232L71.0285 23.9135L61.9992 39.3961C61.8299 39.6659 61.8541 40.0092 62.0718 40.23C62.2896 40.4507 62.6525 40.4998 62.9186 40.3036L78.0447 31.002L82.3996 35.417L61.3993 56.707Z" fill="black" fill-opacity="0.5"/>
            <path d="M18.2858 74.9311C18.2858 76.8442 16.7616 78.3895 14.8745 78.3895C12.9874 78.3895 11.4631 76.8442 11.4631 74.9311C11.4631 73.0179 12.9874 71.4727 14.8745 71.4727C16.7616 71.4727 18.2858 73.0179 18.2858 74.9311Z" fill="black" fill-opacity="0.5"/>
          </svg>
               <span class="rounded"> Цвет</span>
          </span>

        </div>

        <span v-if="selectedTask.tags.length">
        <div
          v-for="(key, value) in selectedTask.tags"
          :key="value"
          class="mt-3 tags-custom" ref="btnRefTags0" v-on:click="togglePopover_tags()"
        >
                <svg width="24" height="24" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M77.9021 0.800003H45.1156C44.4406 0.800003 43.7994 1.07006 43.3269 1.54265L3.52077 41.3417C-0.107182 44.9705 -0.107182 50.8779 3.52077 54.4899L33.5062 84.4826C35.2611 86.2379 37.5897 87.2 40.0871 87.2C42.5845 87.2 44.9131 86.2379 46.668 84.4826L86.4573 44.6836C86.9298 44.211 87.1998 43.5696 87.1998 42.8945V10.0999C87.1998 4.96894 83.0319 0.800003 77.9021 0.800003ZM79.7414 41.983L43.1413 78.5921C42.3989 79.3347 41.4033 79.7567 40.3402 79.7567C39.2771 79.7567 38.2816 79.3516 37.5391 78.6089L9.42673 50.4897C7.8743 48.9369 7.8743 46.422 9.42673 44.8692L46.0268 8.26021H75.776C77.9696 8.26021 79.7414 10.0493 79.7414 12.2266V41.983Z" :fill="tags[key].back_color" fill-opacity="1"/>
<path d="M61.788 19.8588C60.0885 19.8588 58.4969 20.5197 57.2965 21.7202C56.096 22.9206 55.4351 24.5123 55.4351 26.2118C55.4351 27.9113 56.096 29.5029 57.2965 30.7033C58.4969 31.9038 60.0885 32.5647 61.788 32.5647C63.4875 32.5647 65.0792 31.9038 66.2796 30.7033C67.4801 29.5029 68.141 27.9113 68.141 26.2118C68.141 24.5123 67.4801 22.9206 66.2796 21.7202C65.0792 20.5197 63.4875 19.8588 61.788 19.8588Z" :fill="tags[key].back_color" fill-opacity="1"/>
</svg>
          <span class="rounded custom-method">{{ tags[key].name }}</span>
        </div>
          </span>
        <div v-else class="mt-3 tags-custom" ref="btnRefTags_value" v-on:click="togglePopover_tags()">
          <svg width="24" height="24" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M77.9021 0.800003H45.1156C44.4406 0.800003 43.7994 1.07006 43.3269 1.54265L3.52077 41.3417C-0.107182 44.9705 -0.107182 50.8779 3.52077 54.4899L33.5062 84.4826C35.2611 86.2379 37.5897 87.2 40.0871 87.2C42.5845 87.2 44.9131 86.2379 46.668 84.4826L86.4573 44.6836C86.9298 44.211 87.1998 43.5696 87.1998 42.8945V10.0999C87.1998 4.96894 83.0319 0.800003 77.9021 0.800003ZM79.7414 41.983L43.1413 78.5921C42.3989 79.3347 41.4033 79.7567 40.3402 79.7567C39.2771 79.7567 38.2816 79.3516 37.5391 78.6089L9.42673 50.4897C7.8743 48.9369 7.8743 46.422 9.42673 44.8692L46.0268 8.26021H75.776C77.9696 8.26021 79.7414 10.0493 79.7414 12.2266V41.983Z" fill="black" fill-opacity="0.5"/>
            <path d="M61.788 19.8588C60.0885 19.8588 58.4969 20.5197 57.2965 21.7202C56.096 22.9206 55.4351 24.5123 55.4351 26.2118C55.4351 27.9113 56.096 29.5029 57.2965 30.7033C58.4969 31.9038 60.0885 32.5647 61.788 32.5647C63.4875 32.5647 65.0792 31.9038 66.2796 30.7033C67.4801 29.5029 68.141 27.9113 68.141 26.2118C68.141 24.5123 67.4801 22.9206 66.2796 21.7202C65.0792 20.5197 63.4875 19.8588 61.788 19.8588Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded custom-method">Метки</span>
        </div>
        <div class="mt-3 tags-custom" v-if="!selectedTask.checklist">
          <svg width="24" height="24" viewBox="0 0 72 96" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M30.8812 36.8813L21 46.7625L17.1188 42.8813C15.9563 41.7188 14.0437 41.7188 12.8812 42.8813C11.7187 44.0438 11.7187 45.9563 12.8812 47.1188L18.8812 53.1188C19.4625 53.7 20.2313 54 21 54C21.7687 54 22.5375 53.7 23.1188 53.1188L35.1188 41.1188C36.2812 39.9563 36.2812 38.0438 35.1188 36.8813C33.9562 35.7188 32.0438 35.7 30.8812 36.8813Z" fill="black" fill-opacity="0.5"/>
            <path d="M30.8812 60.8813L21 70.7625L17.1188 66.8813C15.9563 65.7188 14.0437 65.7188 12.8812 66.8813C11.7187 68.0438 11.7187 69.9563 12.8812 71.1188L18.8812 77.1188C19.4625 77.7 20.2313 78 21 78C21.7687 78 22.5375 77.7 23.1188 77.1188L35.1188 65.1188C36.2812 63.9563 36.2812 62.0438 35.1188 60.8813C33.9562 59.7188 32.0438 59.7 30.8812 60.8813Z" fill="black" fill-opacity="0.5"/>
            <path d="M42 45C42 46.65 43.35 48 45 48H57C58.65 48 60 46.65 60 45C60 43.35 58.65 42 57 42H45C43.35 42 42 43.35 42 45Z" fill="black" fill-opacity="0.5"/>
            <path d="M57 66H45C43.35 66 42 67.35 42 69C42 70.65 43.35 72 45 72H57C58.65 72 60 70.65 60 69C60 67.35 58.65 66 57 66Z" fill="black" fill-opacity="0.5"/>
            <path d="M51 6H44.4938C43.2563 2.5125 39.9188 0 36 0C32.0812 0 28.7437 2.5125 27.5062 6H21C19.35 6 18 7.35 18 9V12H6C2.7 12 0 14.7 0 18V90C0 93.3 2.7 96 6 96H66C69.3 96 72 93.3 72 90V18C72 14.7 69.3 12 66 12H54V9C54 7.35 52.65 6 51 6ZM24 12H30C31.65 12 33 10.65 33 9C33 7.35 34.35 6 36 6C37.65 6 39 7.35 39 9C39 10.65 40.35 12 42 12H48V18H24V12ZM66 18V90H6V18H18V21C18 22.65 19.35 24 21 24H51C52.65 24 54 22.65 54 21V18H66Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> Чек-лист</span>
        </div>

        <div class="mt-3 tags-custom" v-if="selectedTask.focus===1">
          <svg width="24" height="24" viewBox="0 0 44 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M2.47887 0H41.5211C42.8845 0 44 1.1195 44 2.48777V57.0416C44 58.0782 43.339 59.0318 42.3681 59.3843C42.0995 59.4879 41.8103 59.5294 41.5211 59.5294C40.7775 59.5294 40.0958 59.1977 39.6207 58.638L22 41.1088L4.37934 58.638C3.90423 59.1977 3.20188 59.5294 2.47887 59.5294C2.18967 59.5294 1.90047 59.4879 1.63192 59.3843C0.661033 59.0111 0 58.0782 0 57.0416V2.48777C0 1.1195 1.11549 0 2.47887 0ZM21.5922 11.4076C19.5672 11.4076 17.9255 13.0492 17.9255 15.0743C17.9255 17.0993 19.5672 18.7409 21.5922 18.7409C23.6173 18.7409 25.2589 17.0993 25.2589 15.0743C25.2589 13.0492 23.6173 11.4076 21.5922 11.4076Z" fill="#F2543F"/>
          </svg>

          <span class="rounded"> В фокусе</span>
        </div>
        <div class="mt-3 tags-custom" v-else>
          <svg width="24" height="24" viewBox="0 0 66 89" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M61.7494 0.599998H4.2508C2.24291 0.599998 0.600098 2.24871 0.600098 4.2638V84.6068C0.600098 86.1334 1.57362 87.5073 3.00348 88.0569C3.39897 88.2095 3.82489 88.2706 4.2508 88.2706C5.31559 88.2706 6.34996 87.7821 7.04968 86.9577L33.0001 61.142L58.9505 86.9577C59.6503 87.7821 60.6542 88.2706 61.7494 88.2706C62.1753 88.2706 62.6012 88.2095 62.9967 88.0569C64.4266 87.5378 65.4001 86.1334 65.4001 84.6068V4.2638C65.4001 2.24871 63.7573 0.599998 61.7494 0.599998ZM30.2012 54.3122L6.70151 76.9619V6.72761H59.2987V76.9619L35.799 54.3122C35.0993 53.4878 34.0953 52.9993 33.0001 52.9993C31.9049 52.9993 30.9009 53.4878 30.2012 54.3122Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="rounded"> В фокус</span>
        </div>
        <div class="mt-3 tags-custom any-list-custom relative"  @click="show = !show">
          <svg style="width:24px;height:24px" viewBox="0 0 24 24">
            <path fill="currentColor" d="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z" />
          </svg>
          <span class="rounded"> </span>
          <div
            v-show="show"
            class="
          absolute
          custom-dropdown
          py-2
          mt-2
          rounded-md
          shadow-xl
          w-44
        "
          >
            <router-link v-if="selectedTask.checklist"
              to="/"
              class="
            block
            px-4
            py-2
            text-sm
                    "
            >
              Добавить чек-лист
            </router-link>
            <router-link
              to="/"
              class="
            block
            px-4
            py-2
            text-sm

          "
            >
              Копировать как ссылку
            </router-link>
            <router-link
              to="/"
              class="
            block
            px-4
            py-2
            text-sm

          "
            >
             Показать только файлы
            </router-link>
            <router-link
              to="/"
              class="
            block
            px-4
            py-2
            text-sm

          "
            >
              Удалить
            </router-link>
          </div>
        </div>
      </div>
      <div class="mt-3 checklist-custom" v-if="selectedTask.checklist">
        <ul>
          <li v-for="(key,value) in selectedTask.checklist.split('0')" :key="value">
            <span v-if="key!==''">
            <input type="checkbox" value="value">{{ key }}
              </span>
          </li>
        </ul>
        <div><button class="btn btn-transperant">Добавить</button></div>
      </div>
      <div class="mt-3 description-content">
        <div v-if="selectedTask.comment!==''">
          {{ selectedTask.comment }}
        </div><div v-else>
        Напишите заметку...
      </div>
      </div>
      <div
        class="mt-3 list-files-custom"
        style="display: none"
      >
        <div
          v-for="(key, value) in taskFiles"
          :key="value"
          class="mt-3 list-files-custom-item"
        >
          <div v-if="key.uid_creator===cusers.current_user_uid">
            <div
              class="file-custom_attach-left"
              style="background-color:#EDF7ED;"
            >
              <svg
                style="width:35px;height:35px"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"
                />
              </svg>
            </div>
          </div>
          <div
            v-else
            class=""
          >
            <div
              class="file-custom_attach-right"
              style="background-color:#FCEAEA;"
            >
              <div class="text-right text-employee-name">
              </div>
              <svg
                style="width:35px;height:35px"
                viewBox="0 0 24 24"
              >
                <path
                  fill="currentColor"
                  d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"
                />
              </svg>
            </div>
          </div>
        </div>
      </div>
      <div
        class="mt-3 chat-custom"
      >
        <div
          v-for="(key,value) in newArray"
          :key="value"
          class="mt-3"
        >
          <div class="date-section" v-if="value===0">
            <p
              class="text-center date-messages-chat divider "
            >
              {{ days[new Date(key.date_create.split('T')[0]).getDay()] }}, {{ new Date(key.date_create.split('T')[0]).getDate() }} {{ months[new Date(key.date_create).getMonth()] }}
            </p>
          </div>
          <div v-if="key.uid_creator===cusers.current_user_uid">
            <div class="flex">
              <p class="name-chat-custom" v-if="value===0">
                {{ employees[key.uid_creator].name }}
              </p>
              <img v-if="value===0"
                   :src="employees[key.uid_creator].fotolink"
                   class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                   width="30"
                   height="30"
              >
            </div>
            <div
              class="chat-main"
            >
              <div
                class="mt-1 msg-custom-chat-left"
                style="background-color:#EDF7ED;"
              >
                <div
                  v-if="key.file_name"
                  class="file-custom_attach-left"
                >
                  <svg
                    style="width:35px;height:35px"
                    viewBox="0 0 24 24"
                  >
                    <path
                      fill="currentColor"
                      d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"
                    />
                  </svg>
                  <a :href="key.file_name">{{ key.file_name }}</a>
                </div>
                {{ key.msg }}

                <div class="time-chat">
                  {{ key.date_create.split('T')[1].split(":")[0] }}:{{ key.date_create.split('T')[1].split(":")[1] }}
                </div>
              </div>
            </div>
          </div>
          <div v-else>
            <div class="table-cell float-right">
              <div class="chat-author-custom-right">
                <p class="name-chat-custom" v-if="value===0">
                  {{ employees[key.uid_creator].name }}
                </p>
                <img v-if="value===0"
                     :src="employees[key.uid_creator].fotolink"
                     class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                     width="30"
                     height="30"
                >
              </div>
            </div>
            <div
              class="chat-main"
            >
              <div
                class="mt-1 msg-custom-chat-right"
                style="background-color:#FCEAEA;"
              >
                <div
                  v-if="key.file_name"
                  class="file-custom_attach-right"
                >
                  <svg
                    style="width:35px;height:35px"
                    viewBox="0 0 24 24"
                  >
                    <path
                      fill="currentColor"
                      d="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z"
                    />
                  </svg>
                  <a :href="key.file_name">{{ key.file_name }}</a>
                </div>
                {{ key.msg }}

                <div class="time-chat">
                  {{ key.date_create.split('T')[1].split(":")[0] }}:{{ key.date_create.split('T')[1].split(":")[1] }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--    <div
        v-if="taskMessages.length"
        class="mt-3 chat-custom"
      >
        <div
          v-for="(key, value) in taskMessages"
          :key="value"
          class="mt-3"
        >
          <div
            v-if="key.uid_creator===cusers.current_user_uid"
          >
            <div class="flex">
              <p class="name-chat-custom">
                {{ employees[key.uid_creator].name }}
              </p>
              <img
                :src="employees[key.uid_creator].fotolink"
                class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                width="30"
                height="30"
              >
            </div>
            <div

              class="chat-main"
            >
              <div
                class="mt-1 msg-custom-chat-left"
                style="background-color:#EDF7ED;"
              >
                {{ key.msg }}
                <div class="time-chat">
                  {{ key.date_create.split('T')[1].split(":")[0] }}:{{ key.date_create.split('T')[1].split(":")[1] }}
                </div>
              </div>
            </div>
          </div>
          <div
            v-else
          >
            <div class="table-cell float-right">
              <div class="chat-author-custom-right">
                <p class="name-chat-custom">
                  {{ employees[key.uid_creator].name }}
                </p>
                <img
                  :src="employees[key.uid_creator].fotolink"
                  class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                  width="30"
                  height="30"
                >
              </div>
            </div>
            <div
              class="chat-main"
            >
              <div
                class="mt-1 msg-custom-chat-right"
                style="background-color:#FCEAEA;"
              >
                {{ key.msg }}
                <div class="time-chat">
                  {{ key.date_create.split('T')[1].split(":")[0] }}:{{ key.date_create.split('T')[1].split(":")[1] }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>-->
      <!-- <ul>
        <li v-for="(item, index) in selectedTask.checklist" :key="item">
          {{ index.name }}
        </li>
      </ul> -->
      </div>
      <div class="form-send-message">
        <div class="input-group">
           <span class="input-group-addon">
            <button type="file" name="btn-attach">
             <svg width="28" height="26" viewBox="0 0 28 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.25983 22.9238C4.89952 24.5479 7.04911 25.35 9.1987 25.35C11.3483 25.35 13.4979 24.538 15.1376 22.9139L25.4456 12.7039C27.7852 10.3866 27.7852 6.61359 25.4456 4.29629C24.3158 3.17725 22.8061 2.55337 21.2064 2.55337C19.6067 2.55337 18.097 3.16735 16.9672 4.29629L7.49902 13.6744C6.09929 15.0608 6.09929 17.3286 7.49902 18.715C8.89876 20.1014 11.1883 20.1014 12.5881 18.715L18.8169 12.5455C19.2868 12.08 19.2868 11.3274 18.8169 10.862C18.347 10.3965 17.5871 10.3965 17.1172 10.862L10.8984 17.0414C10.4285 17.5069 9.66861 17.5069 9.1987 17.0414C8.72879 16.576 8.72879 15.8233 9.1987 15.3579L18.6569 5.9897C19.3368 5.3163 20.2366 4.94989 21.2064 4.94989C22.1662 4.94989 23.0761 5.3163 23.7559 5.9897C25.1557 7.37611 25.1557 9.6439 23.7559 11.0303L13.4379 21.2403C11.0983 23.5576 7.28906 23.5576 4.94951 21.2403C3.81972 20.1212 3.19984 18.6259 3.19984 17.0414C3.19984 15.4569 3.81972 13.9616 4.95951 12.8426L15.2576 2.63259C15.7275 2.16715 15.7275 1.41453 15.2576 0.949086C14.7876 0.483646 14.0278 0.483646 13.5579 0.949086L3.25983 11.159C1.67013 12.7237 0.800293 14.8132 0.800293 17.0414C0.800293 19.2597 1.67013 21.3492 3.25983 22.9238Z" fill="black" fill-opacity="0.5"/>
</svg>
</button>
</span>
          <input type="text" class="form-control text-group-design" placeholder="Введите сообщение">
          <span class="input-group-addon">
          <button type="button" name="btn-send"> <svg width="28" height="28" viewBox="0 0 86 84" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M85.0075 37.7723C84.0749 35.907 82.5593 34.2749 80.5774 33.3423L13.6598 0.932651C12.2608 0.349744 10.9784 0 9.46283 0C5.84881 0 2.58453 2.09846 0.952393 5.36274C-0.21342 7.81095 -0.330001 10.4923 0.71923 13.0571L12.2608 41.9693L0.71923 70.7649C-1.26265 75.6613 1.18556 81.1406 6.08197 83.1225C7.1312 83.5888 8.29701 83.822 9.57941 83.822C10.9784 83.822 12.3774 83.4722 13.6598 82.8893L80.694 50.4797C83.0256 49.4305 84.6578 47.4486 85.4738 45.117C86.2899 42.6688 86.1733 39.9874 85.0075 37.7723ZM7.24778 73.4462L18.4396 45.4667H74.6318L10.5121 76.4773C10.1623 76.5939 9.81257 76.7105 9.46283 76.7105C8.53018 76.7105 7.71411 76.1276 7.36436 75.3115C7.01462 74.7286 7.01462 74.0291 7.24778 73.4462ZM18.4396 38.3553L7.24778 10.3757C6.89804 9.44309 7.1312 8.39385 7.83069 7.69437C8.29701 7.22804 8.87992 6.99488 9.46283 6.99488C9.81257 6.99488 10.1623 7.11146 10.5121 7.22804L74.6318 38.2387H18.4396V38.3553Z" fill="black" fill-opacity="0.5"/>
            </svg></button>
</span>
        </div>
      </div>
    </div>
  </aside>
  <!--Всплывающее окно Метки-->
  <div ref="popoverRefTags0"  v-bind:class="{'hidden': !popoverShowTags, 'block': popoverShowTags}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-project-custom">
          <svg width="24" height="24" viewBox="0 0 88 88" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M77.9021 0.800003H45.1156C44.4406 0.800003 43.7994 1.07006 43.3269 1.54265L3.52077 41.3417C-0.107182 44.9705 -0.107182 50.8779 3.52077 54.4899L33.5062 84.4826C35.2611 86.2379 37.5897 87.2 40.0871 87.2C42.5845 87.2 44.9131 86.2379 46.668 84.4826L86.4573 44.6836C86.9298 44.211 87.1998 43.5696 87.1998 42.8945V10.0999C87.1998 4.96894 83.0319 0.800003 77.9021 0.800003ZM79.7414 41.983L43.1413 78.5921C42.3989 79.3347 41.4033 79.7567 40.3402 79.7567C39.2771 79.7567 38.2816 79.3516 37.5391 78.6089L9.42673 50.4897C7.8743 48.9369 7.8743 46.422 9.42673 44.8692L46.0268 8.26021H75.776C77.9696 8.26021 79.7414 10.0493 79.7414 12.2266V41.983Z" fill="black" fill-opacity="0.5"/>
            <path d="M61.788 19.8588C60.0885 19.8588 58.4969 20.5197 57.2965 21.7202C56.096 22.9206 55.4351 24.5123 55.4351 26.2118C55.4351 27.9113 56.096 29.5029 57.2965 30.7033C58.4969 31.9038 60.0885 32.5647 61.788 32.5647C63.4875 32.5647 65.0792 31.9038 66.2796 30.7033C67.4801 29.5029 68.141 27.9113 68.141 26.2118C68.141 24.5123 67.4801 22.9206 66.2796 21.7202C65.0792 20.5197 63.4875 19.8588 61.788 19.8588Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="title-z-popover">Метки</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_tags()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <div class="input-group">
        <span class="input-group-addon"><svg width="24" height="24" viewBox="0 0 82 83" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M81.0655 76.0627L64.1173 59.1145C69.4264 52.6824 72.3872 44.5146 72.3872 36.1426C72.3872 16.2335 56.1537 0 36.1425 0C16.2335 0 0 16.2335 0 36.1426C0 56.1537 16.2335 72.3872 36.1425 72.3872C44.5145 72.3872 52.6824 69.4264 59.1145 64.1173L76.0627 81.0655C76.7774 81.7802 77.5942 82.0865 78.513 82.0865C79.4319 82.0865 80.3508 81.6781 80.9634 81.0655C81.6781 80.3508 81.9844 79.534 81.9844 78.6152C82.0865 77.5942 81.6781 76.7774 81.0655 76.0627ZM36.1425 65.3425C20.1132 65.3425 7.04473 52.274 7.04473 36.1426C7.04473 20.0111 20.1132 7.04473 36.1425 7.04473C52.1719 7.04473 65.3425 20.1132 65.3425 36.1426C65.3425 52.1719 52.274 65.3425 36.1425 65.3425Z" fill="#757575"/>
</svg>
</span>
          <input type="search" value="" placeholder="Найти метку..." class="form-control">
        </div>
        <div class="container-tags-popover">
          <div
            v-for="(key, value) in selectedTask.tags"
            :key="value"
          >
          </div>
          <div v-for="(value, key, index) in tags" :key="index">
            <div
              v-for="(value1, key1) in selectedTask.tags"
              :key="key1"
            >
              <div>
              <div class="list-tags-access active" v-if="value1===value.uid" :style="{'background-color': value.back_color}">
                <input type="checkbox" name="check_employee" class="check-custom-project" checked="checked">
                <div>
                  {{tags[value1].name}}
                </div>
              </div>
              <div class="list-tags-access" :style="{'background-color': value.back_color}" v-else >
                <input type="checkbox" name="check_employee" class="check-custom-project">
                <div>
                  {{value.name}}
                </div>
              </div>
            </div>
            </div>
            </div>
        </div>
      </div>
      <div class="popover-container-button">
        <input type="button" name="addproject" value="Добавить метку" class="btn btn-empty">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!--Всплывающее окно Цвета-->
  <div ref="popoverRefColor" v-bind:class="{'hidden': !popoverShowColor, 'block': popoverShowColor}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-project-custom">
          <svg width="40" height="40" viewBox="0 0 89 90" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M86.4883 31.2718L82.1334 26.8569C80.6576 25.3607 78.5769 24.8211 76.6656 25.2871C77.1253 23.3249 76.593 21.2155 75.1172 19.7438L65.6574 10.1535C64.7864 9.27053 63.6735 8.7064 62.5122 8.51017C62.3187 7.33285 61.7622 6.20458 60.8912 5.32158L57.9396 2.32921C55.6653 0.0236062 51.9879 0.0236062 49.7378 2.32921L20.0278 32.4492C17.7536 34.7548 17.7536 38.483 20.0278 40.764L26.3666 47.1903C26.9714 47.8035 27.2375 48.6129 27.165 49.4714C27.0682 50.3053 26.6085 51.0657 25.9069 51.5317C7.03567 63.7219 5.26951 65.5124 4.5195 66.2728C-0.706372 71.5708 -0.706372 80.18 4.5195 85.4779C9.74538 90.7759 18.2374 90.7759 23.4633 85.4779C24.2133 84.7176 25.9795 82.9271 38.0038 63.7955C38.4635 63.0842 39.1893 62.6182 40.0361 62.5201C40.8829 62.422 41.7055 62.7163 42.2861 63.3049L48.6249 69.7312C50.8992 72.0368 54.5766 72.0368 56.8266 69.7312L86.5367 39.6112C88.7626 37.2811 88.7626 33.5529 86.4883 31.2718ZM52.6895 65.537L46.3507 59.1107C44.512 57.2466 41.9474 56.3391 39.3587 56.6334C36.7699 56.9278 34.4715 58.3749 33.0683 60.5824C27.7456 69.069 21.0197 79.5177 19.302 81.2592C16.3503 84.2516 11.5357 84.2516 8.58407 81.2592C5.63242 78.2668 5.63242 73.3858 8.58407 70.3934C10.3018 68.652 20.6326 61.8578 28.9795 56.4372C31.157 55.0146 32.6086 52.6845 32.8989 50.06C33.1892 47.4356 32.2699 44.8356 30.4553 42.9715L24.1165 36.5453L28.7376 31.8605L57.2863 60.8031L52.6895 65.537ZM61.3993 56.707L32.8505 27.7644L53.8266 6.49891L56.8025 9.49128L53.4879 16.9477C53.3669 17.193 53.4395 17.5118 53.6331 17.708C53.8266 17.9043 54.1411 17.9533 54.3831 17.8307L61.5687 14.3232L71.0285 23.9135L61.9993 39.3961C61.8299 39.6659 61.8541 40.0092 62.0718 40.23C62.2896 40.4507 62.6525 40.4998 62.9186 40.3036L78.0447 31.002L82.3996 35.417L61.3993 56.707Z" fill="black" fill-opacity="0.5"/>
            <path d="M18.2858 74.9311C18.2858 76.8442 16.7616 78.3895 14.8745 78.3895C12.9874 78.3895 11.4631 76.8442 11.4631 74.9311C11.4631 73.0179 12.9874 71.4727 14.8745 71.4727C16.7616 71.4727 18.2858 73.0179 18.2858 74.9311Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="title-z-popover">Цвета</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_color()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <div class="input-group">
        <span class="input-group-addon"><svg width="24" height="24" viewBox="0 0 82 83" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M81.0655 76.0627L64.1173 59.1145C69.4264 52.6824 72.3872 44.5146 72.3872 36.1426C72.3872 16.2335 56.1537 0 36.1425 0C16.2335 0 0 16.2335 0 36.1426C0 56.1537 16.2335 72.3872 36.1425 72.3872C44.5145 72.3872 52.6824 69.4264 59.1145 64.1173L76.0627 81.0655C76.7774 81.7802 77.5942 82.0865 78.513 82.0865C79.4319 82.0865 80.3508 81.6781 80.9634 81.0655C81.6781 80.3508 81.9844 79.534 81.9844 78.6152C82.0865 77.5942 81.6781 76.7774 81.0655 76.0627ZM36.1425 65.3425C20.1132 65.3425 7.04473 52.274 7.04473 36.1426C7.04473 20.0111 20.1132 7.04473 36.1425 7.04473C52.1719 7.04473 65.3425 20.1132 65.3425 36.1426C65.3425 52.1719 52.274 65.3425 36.1425 65.3425Z" fill="#757575"/>
</svg>
</span>
          <input type="search" value="" placeholder="Найти цвет..." class="form-control">
        </div>
        <div class="container-color-popover">
          <div v-for="(key,value) in colors" :key="value">
            <div class="list-color-access" :style="{'background-color': key.back_color}" v-if="key.uid===selectedTask.uid_marker">
              <input type="checkbox" name="check_employee" class="check-custom-project" checked="checked">
              <div style="{'color': key.force_color}" >
                <span  v-if="uppercase===1" style="text-transform:uppercase">{{key.name}}</span>
                <span v-else>{{key.name}}</span>
              </div>
            </div>
            <div class="list-color-access" :style="{'background-color': key.back_color}" v-else>
              <input type="checkbox" name="check_employee" class="check-custom-project">
              <div style="{'color': key.force_color}" >
                <span  v-if="uppercase===1" style="text-transform:uppercase">{{key.name}}</span>
                <span v-else>{{key.name}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="popover-container-button">
        <input type="button" name="addproject" value="Добавить цвет" class="btn btn-empty">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!--Всплывающее окно Проекты-->
  <div ref="popoverRefProject" v-bind:class="{'hidden': !popoverShowProject, 'block': popoverShowProject}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-project-custom">
          <svg width="40" height="40" viewBox="0 0 90 81" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M81.8999 17.1334V12.1427C81.8999 7.51337 78.1159 3.74215 73.4708 3.74215H38.7349L37.6926 2.02591C37.0581 1.03229 35.9478 0.399994 34.7696 0.399994H9.02917C4.38412 0.399994 0.600098 4.17121 0.600098 8.80056V72.1661C0.600098 76.7954 4.38412 80.5667 9.02917 80.5667H80.9709C85.616 80.5667 89.4 76.7954 89.4 72.1661V25.4888C89.4226 21.153 86.1144 17.585 81.8999 17.1334ZM7.44306 8.80056C7.44306 7.91985 8.16814 7.19722 9.05183 7.19722H32.8662L42.111 22.2369C42.7228 23.2306 43.8331 23.8629 45.034 23.8629H81.0162C81.8999 23.8629 82.625 24.5855 82.625 25.4662V72.1661C82.625 73.0468 81.8999 73.7694 81.0162 73.7694H9.02917C8.14548 73.7694 7.4204 73.0468 7.4204 72.1661V8.80056H7.44306ZM75.0569 17.0656H46.9147L42.9041 10.5394H73.4482C74.3319 10.5394 75.0569 11.262 75.0569 12.1427V17.0656Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="title-z-popover">Проекты</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_project()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <div class="input-group">
        <span class="input-group-addon"><svg width="24" height="24" viewBox="0 0 82 83" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M81.0655 76.0627L64.1173 59.1145C69.4264 52.6824 72.3872 44.5146 72.3872 36.1426C72.3872 16.2335 56.1537 0 36.1425 0C16.2335 0 0 16.2335 0 36.1426C0 56.1537 16.2335 72.3872 36.1425 72.3872C44.5145 72.3872 52.6824 69.4264 59.1145 64.1173L76.0627 81.0655C76.7774 81.7802 77.5942 82.0865 78.513 82.0865C79.4319 82.0865 80.3508 81.6781 80.9634 81.0655C81.6781 80.3508 81.9844 79.534 81.9844 78.6152C82.0865 77.5942 81.6781 76.7774 81.0655 76.0627ZM36.1425 65.3425C20.1132 65.3425 7.04473 52.274 7.04473 36.1426C7.04473 20.0111 20.1132 7.04473 36.1425 7.04473C52.1719 7.04473 65.3425 20.1132 65.3425 36.1426C65.3425 52.1719 52.274 65.3425 36.1425 65.3425Z" fill="#757575"/>
</svg>
</span>
          <input type="search" value="" placeholder="Найти проект..." class="form-control">
        </div>
        <div class="container-project-popover">
          <ul>
            <li v-for="(value, index) in projects" :key="index">
              <div class="list-project-access active" v-if="selectedTask.uid_project === value.uid">
              <input type="checkbox" name="check_employee" class="check-custom-project" checked> {{value.name}}
              </div>
              <div class="list-project-access" v-else>
                <input type="checkbox" name="check_employee" class="check-custom-project"> {{value.name}}
              </div>
              <ul style="margin-left: 15px" v-if="value.children">

                <li v-for="(project, pindex) in value.children" :key="pindex">
                  <div class="list-project-access active" v-if="selectedTask.uid_project === project.uid">
                    <input type="checkbox" name="check_employee" class="check-custom-project" checked> {{ project.name }}
                  </div>
                  <div class="list-project-access" v-else>
                    <input type="checkbox" name="check_employee" class="check-custom-project" > {{ project.name }}
                  </div>
                  <ul style="margin-left: 30px" v-if="project.children">
                    <li v-for="(subproject,value2) in project.children" :key="value2">
                      <div class="list-project-access active" v-if="selectedTask.uid_project === subproject.uid">
                        <input type="checkbox" name="check_employee" class="check-custom-project" checked> {{subproject.name}}
                      </div>
                      <div class="list-project-access" v-else>
                        <input type="checkbox" name="check_employee" class="check-custom-project" > {{ subproject.name }}
                      </div>
                      <ul style="margin-left: 30px" v-if="subproject.children">
                        <li v-for="(subsubproject,value2) in subproject.children" :key="value2">
                          <div class="list-project-access active" v-if="selectedTask.uid_project === subsubproject.uid">
                            <input type="checkbox" name="check_employee" class="check-custom-project" checked>{{subsubproject.name}}
                          </div>
                          <div class="list-project-access" v-else>
                            <input type="checkbox" name="check_employee" class="check-custom-project" > {{ subsubproject.name }}
                          </div>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <div class="popover-container-button">
        <input type="button" name="addproject" value="Добавить проект" class="btn btn-empty">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!--Всплывающее окно Напоминание с галочками-->
  <div ref="popoverRefReminder" v-bind:class="{'hidden': !popoverShowReminder, 'block': popoverShowReminder}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-popover-custom">

          <span class="title-z-popover text-center">Напоминание</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_reminder()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <DatePicker v-model="remi" mode="dateTime" locale="ru"/>

      </div>
      <div class="popover-container-button">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!--Всплывающее окно Повтор с галочками-->
  <div ref="popoverRefRepeat" v-bind:class="{'hidden': !popoverShowRepeat, 'block': popoverShowRepeat}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-popover-custom">

          <span class="title-z-popover text-center">Повтор</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_repeat()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <DatePicker v-model="replay" mode="dateTime" locale="ru"/>

      </div>
      <div class="popover-container-button">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!-- Всплывающее окно сотрудник -->
  <div ref="popoverRefEmployee" v-bind:class="{'hidden': !popoverShowEmployee, 'block': popoverShowEmployee}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-popover-custom">
          <svg width="40" height="40" viewBox="0 0 72 86" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M48.84 39.48C54.24 35.52 57.84 29.04 57.84 21.84C57.84 9.84 48 0 36 0C24 0 14.16 9.84 14.16 21.84C14.16 29.04 17.76 35.52 23.16 39.48C9.6 44.64 0 57.72 0 73.08C0 79.68 5.4 85.08 12 85.08H60C66.6 85.08 72 79.68 72 73.08C72 57.72 62.4 44.64 48.84 39.48ZM20.76 21.84C20.76 13.44 27.6 6.6 36 6.6C44.4 6.6 51.24 13.44 51.24 21.84C51.24 30.24 44.4 37.08 36 37.08C27.6 37.08 20.76 30.24 20.76 21.84ZM60 78.6H12C9 78.6 6.6 76.2 6.6 73.2C6.6 57 19.8 43.8 36 43.8C52.2 43.8 65.4 57 65.4 73.2C65.4 76.08 63 78.6 60 78.6Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="title-z-popover">Поручить</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_employee()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <div class="input-group">
        <span class="input-group-addon"><svg width="24" height="24" viewBox="0 0 82 83" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M81.0655 76.0627L64.1173 59.1145C69.4264 52.6824 72.3872 44.5146 72.3872 36.1426C72.3872 16.2335 56.1537 0 36.1425 0C16.2335 0 0 16.2335 0 36.1426C0 56.1537 16.2335 72.3872 36.1425 72.3872C44.5145 72.3872 52.6824 69.4264 59.1145 64.1173L76.0627 81.0655C76.7774 81.7802 77.5942 82.0865 78.513 82.0865C79.4319 82.0865 80.3508 81.6781 80.9634 81.0655C81.6781 80.3508 81.9844 79.534 81.9844 78.6152C82.0865 77.5942 81.6781 76.7774 81.0655 76.0627ZM36.1425 65.3425C20.1132 65.3425 7.04473 52.274 7.04473 36.1426C7.04473 20.0111 20.1132 7.04473 36.1425 7.04473C52.1719 7.04473 65.3425 20.1132 65.3425 36.1426C65.3425 52.1719 52.274 65.3425 36.1425 65.3425Z" fill="#757575"/>
</svg>
</span>
          <input type="search" value="" placeholder="Поиск" class="form-control">

        </div>
        <div class="container-employee-popover">
          <div v-for="(key,value) in employees" :key="value">

            <div class="list-employee-access active" v-if="selectedTask.email_performer===key.email">
              <input type="checkbox" name="check_employee" class="check-custom-empployee" checked>
              <img
                :src="key.fotolink"
                class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                width="30"
                height="30"
              >
              <div>
                {{key.name}}
                <div class="popover-employee-email">{{key.email}}</div>
              </div>
            </div>
            <div class="list-employee-access" v-else>
              <input type="checkbox" name="check_employee" class="check-custom-empployee">
              <img
                :src="key.fotolink"
                class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                width="30"
                height="30"
              >
              <div>
                {{key.name}}
                <div class="popover-employee-email">{{key.email}}</div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="popover-container-button">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
  <!-- Всплывающее окно доступ -->
  <div ref="popoverRef" v-bind:class="{'hidden': !popoverShow, 'block': popoverShow}" class="bg-pink-600 border-0 mt-3 block z-50 font-normal leading-normal text-sm max-w-xs text-left no-underline break-words rounded-lg popover-custom-access">
    <div class="popover-padding-custom">
      <div class="bg-pink-600 text-white opacity-75 font-semibold p-3 mb-0 border-b border-solid border-blueGray-100 uppercase rounded-t-lg title-popover-main">
        <div class="title-popover-custom">
          <svg width="40" height="40" viewBox="0 0 72 86" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M48.84 39.48C54.24 35.52 57.84 29.04 57.84 21.84C57.84 9.84 48 0 36 0C24 0 14.16 9.84 14.16 21.84C14.16 29.04 17.76 35.52 23.16 39.48C9.6 44.64 0 57.72 0 73.08C0 79.68 5.4 85.08 12 85.08H60C66.6 85.08 72 79.68 72 73.08C72 57.72 62.4 44.64 48.84 39.48ZM20.76 21.84C20.76 13.44 27.6 6.6 36 6.6C44.4 6.6 51.24 13.44 51.24 21.84C51.24 30.24 44.4 37.08 36 37.08C27.6 37.08 20.76 30.24 20.76 21.84ZM60 78.6H12C9 78.6 6.6 76.2 6.6 73.2C6.6 57 19.8 43.8 36 43.8C52.2 43.8 65.4 57 65.4 73.2C65.4 76.08 63 78.6 60 78.6Z" fill="black" fill-opacity="0.5"/>
          </svg>
          <span class="title-z-popover">Сотрудники</span>
        </div>
        <div class="dissmiss_popover" v-on:click="togglePopover_access()"><svg style="width:24px;height:24px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />
        </svg></div>
      </div>
      <div class="text-white p-3 body-popover-custom">
        <div class="input-group">
        <span class="input-group-addon"><svg width="24" height="24" viewBox="0 0 82 83" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M81.0655 76.0627L64.1173 59.1145C69.4264 52.6824 72.3872 44.5146 72.3872 36.1426C72.3872 16.2335 56.1537 0 36.1425 0C16.2335 0 0 16.2335 0 36.1426C0 56.1537 16.2335 72.3872 36.1425 72.3872C44.5145 72.3872 52.6824 69.4264 59.1145 64.1173L76.0627 81.0655C76.7774 81.7802 77.5942 82.0865 78.513 82.0865C79.4319 82.0865 80.3508 81.6781 80.9634 81.0655C81.6781 80.3508 81.9844 79.534 81.9844 78.6152C82.0865 77.5942 81.6781 76.7774 81.0655 76.0627ZM36.1425 65.3425C20.1132 65.3425 7.04473 52.274 7.04473 36.1426C7.04473 20.0111 20.1132 7.04473 36.1425 7.04473C52.1719 7.04473 65.3425 20.1132 65.3425 36.1426C65.3425 52.1719 52.274 65.3425 36.1425 65.3425Z" fill="#757575"/>
</svg>
</span>
          <input type="search" value="" placeholder="Поиск" class="form-control">

        </div>
        <div class="container-employee-popover">
          <div v-for="(key,value,index) in employees" :key="value">
            <div class="list-employee-access active" v-if="selectedTask.emails.split('..')[index+1]===key.email">
              <input type="checkbox" name="check_employee" class="check-custom-empployee" checked="checked">
              <img
                :src="key.fotolink"
                class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                width="30"
                height="30"
              >
              <div>
                {{key.name}}
                <div class="popover-employee-email">{{key.email}}</div>
              </div>
            </div>
            <div class="list-employee-access" v-else>
              <input type="checkbox" name="check_employee" class="check-custom-empployee">
              <img
                :src="key.fotolink"
                class="mr-1 border-fotolink border-solid border-2 border-sky-500"
                width="30"
                height="30"
              >
              <div>
                {{key.name}}
                <div class="popover-employee-email">{{key.email}}</div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="popover-container-button">
        <input type="button" name="ok" value="ОК" class="btn btn-orange">
      </div>
    </div>
  </div>
</template>
